import{u as _e,Q as ge}from"./use-meta-DrxAJ_-8.js";import{b7 as ve,c as Qt,g as Wt,b8 as be,a as ut,h as at,b9 as ye,r as ft,az as ie,aw as ae,aM as we,j as ke,m as xe,w as se,o as Se,ba as ze,aU as Ce,bb as Ee,bc as Ht,bd as qt,S as oe,_ as $t,z as Ae,be as Ie,aD as Fe,n as Xt,I as Be,v as Oe,aQ as Re,b as Te,M as le,J as Ue,X as Mt,O as St,R as st,P as lt,a7 as Jt,a6 as zt,U as Ct,Q as te,T as vt,x as Ot,N as At,af as Rt,a8 as De,aJ as Tt}from"./index-BEL0ybaJ.js";import{b as Ne,h as ee,c as bt,Q as Ut,a as wt}from"./QItem-GnXaP8Mt.js";import{Q as Pe}from"./QList-Coxro7rM.js";import{c as Pt,g as Le}from"./_commonjsHelpers-Cpj98o6Y.js";import{u as je}from"./use-quasar-CMmw_9uD.js";import{u as ue}from"./vue-i18n.runtime-B3v8E1I0.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const We={...ve,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:U=>U>=0&&U<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Vt=50,de=2*Vt,ce=de*Math.PI,Ze=Math.round(ce*1e3)/1e3,Me=Qt({name:"QCircularProgress",props:{...We,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(U,{slots:et}){const{proxy:{$q:m}}=Wt(),A=be(U),b=ut(()=>{const i=(m.lang.rtl===!0?-1:1)*U.angle;return{transform:U.reverse!==(m.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-i}deg)`:`rotate3d(0, 0, 1, ${i-90}deg)`}}),d=ut(()=>U.instantFeedback!==!0&&U.indeterminate!==!0?{transition:`stroke-dashoffset ${U.animationSpeed}ms ease 0s, stroke ${U.animationSpeed}ms ease`}:""),c=ut(()=>de/(1-U.thickness/2)),a=ut(()=>`${c.value/2} ${c.value/2} ${c.value} ${c.value}`),u=ut(()=>Ne(U.value,U.min,U.max)),y=ut(()=>U.max-U.min),w=ut(()=>U.thickness/2*c.value),_=ut(()=>{const i=(U.max-u.value)/y.value,n=U.rounded===!0&&u.value<U.max&&i<.25?w.value/2*(1-i/.25):0;return ce*i+n});function g({thickness:i,offset:n,color:e,cls:l,rounded:s}){return at("circle",{class:"q-circular-progress__"+l+(e!==void 0?` text-${e}`:""),style:d.value,fill:"transparent",stroke:"currentColor","stroke-width":i,"stroke-dasharray":Ze,"stroke-dashoffset":n,"stroke-linecap":s,cx:c.value,cy:c.value,r:Vt})}return()=>{const i=[];U.centerColor!==void 0&&U.centerColor!=="transparent"&&i.push(at("circle",{class:`q-circular-progress__center text-${U.centerColor}`,fill:"currentColor",r:Vt-w.value/2,cx:c.value,cy:c.value})),U.trackColor!==void 0&&U.trackColor!=="transparent"&&i.push(g({cls:"track",thickness:w.value,offset:0,color:U.trackColor})),i.push(g({cls:"circle",thickness:w.value,offset:_.value,color:U.color,rounded:U.rounded===!0?"round":void 0}));const n=[at("svg",{class:"q-circular-progress__svg",style:b.value,viewBox:a.value,"aria-hidden":"true"},i)];return U.showValue===!0&&n.push(at("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:U.fontSize}},et.default!==void 0?et.default():[at("div",u.value)])),at("div",{class:`q-circular-progress q-circular-progress--${U.indeterminate===!0?"in":""}determinate`,style:A.value,role:"progressbar","aria-valuemin":U.min,"aria-valuemax":U.max,"aria-valuenow":U.indeterminate===!0?void 0:u.value},ye(et.internal,n))}}});function Et(U,et,m,A){const b=[];return U.forEach(d=>{A(d)===!0?b.push(d):et.push({failedPropValidation:m,file:d})}),b}function Lt(U){U?.dataTransfer&&(U.dataTransfer.dropEffect="copy"),ae(U)}const Ge={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},He=["rejected"];function $e({editable:U,dnd:et,getFileInput:m,addFilesToQueue:A}){const{props:b,emit:d,proxy:c}=Wt(),a=ft(null),u=ut(()=>b.accept!==void 0?b.accept.split(",").map(o=>(o=o.trim(),o==="*"?"*/":(o.endsWith("/*")&&(o=o.slice(0,o.length-1)),o.toUpperCase()))):null),y=ut(()=>parseInt(b.maxFiles,10)),w=ut(()=>parseInt(b.maxTotalSize,10));function _(o){if(U.value)if(o!==Object(o)&&(o={target:null}),o.target?.matches('input[type="file"]')===!0)o.clientX===0&&o.clientY===0&&ie(o);else{const v=m();v!==o.target&&v?.click(o)}}function g(o){U.value&&o&&A(null,o)}function i(o,v,x,k){let F=Array.from(v||o.target.files);const C=[],P=()=>{C.length!==0&&d("rejected",C)};if(b.accept!==void 0&&u.value.indexOf("*/")===-1&&(F=Et(F,C,"accept",z=>u.value.some(N=>z.type.toUpperCase().startsWith(N)||z.name.toUpperCase().endsWith(N))),F.length===0))return P();if(b.maxFileSize!==void 0){const z=parseInt(b.maxFileSize,10);if(F=Et(F,C,"max-file-size",N=>N.size<=z),F.length===0)return P()}if(b.multiple!==!0&&F.length!==0&&(F=[F[0]]),F.forEach(z=>{z.__key=z.webkitRelativePath+z.lastModified+z.name+z.size}),k===!0){const z=x.map(N=>N.__key);F=Et(F,C,"duplicate",N=>z.includes(N.__key)===!1)}if(F.length===0)return P();if(b.maxTotalSize!==void 0){let z=k===!0?x.reduce((N,Q)=>N+Q.size,0):0;if(F=Et(F,C,"max-total-size",N=>(z+=N.size,z<=w.value)),F.length===0)return P()}if(typeof b.filter=="function"){const z=b.filter(F);F=Et(F,C,"filter",N=>z.includes(N))}if(b.maxFiles!==void 0){let z=k===!0?x.length:0;if(F=Et(F,C,"max-files",()=>(z++,z<=y.value)),F.length===0)return P()}if(P(),F.length!==0)return F}function n(o){Lt(o),et.value!==!0&&(et.value=!0)}function e(o){ae(o),(o.relatedTarget!==null||we.is.safari!==!0?o.relatedTarget!==a.value:document.elementsFromPoint(o.clientX,o.clientY).includes(a.value)===!1)===!0&&(et.value=!1)}function l(o){Lt(o);const v=o.dataTransfer.files;v.length!==0&&A(null,v),et.value=!1}function s(o){if(et.value===!0)return at("div",{ref:a,class:`q-${o}__dnd absolute-full`,onDragenter:Lt,onDragover:Lt,onDragleave:e,onDrop:l})}return Object.assign(c,{pickFiles:_,addFiles:g}),{pickFiles:_,addFiles:g,onDragover:n,onDragleave:e,processFiles:i,getDndNode:s,maxFilesNumber:y,maxTotalSizeNumber:w}}function re(U){return(U*100).toFixed(2)+"%"}const Ve={...ke,...Ge,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},fe=[...He,"start","finish","added","removed"];function Qe(U,et){const m=Wt(),{props:A,slots:b,emit:d,proxy:c}=m,{$q:a}=c,u=xe(A,a);function y(W,tt,it){if(W.__status=tt,tt==="idle"){W.__uploaded=0,W.__progress=0,W.__sizeLabel=ee(W.size),W.__progressLabel="0.00%";return}if(tt==="failed"){c.$forceUpdate();return}W.__uploaded=tt==="uploaded"?W.size:it,W.__progress=tt==="uploaded"?1:Math.min(.9999,W.__uploaded/W.size),W.__progressLabel=re(W.__progress),c.$forceUpdate()}const w=ut(()=>A.disable!==!0&&A.readonly!==!0),_=ft(!1),g=ft(null),i=ft(null),n={files:ft([]),queuedFiles:ft([]),uploadedFiles:ft([]),uploadedSize:ft(0),updateFileStatus:y,isAlive:()=>qt(m)===!1},{pickFiles:e,addFiles:l,onDragover:s,onDragleave:o,processFiles:v,getDndNode:x,maxFilesNumber:k,maxTotalSizeNumber:F}=$e({editable:w,dnd:_,getFileInput:B,addFilesToQueue:I});Object.assign(n,U({props:A,slots:b,emit:d,helpers:n,exposeApi:W=>{Object.assign(n,W)}})),n.isBusy===void 0&&(n.isBusy=ft(!1));const C=ft(0),P=ut(()=>C.value===0?0:n.uploadedSize.value/C.value),z=ut(()=>re(P.value)),N=ut(()=>ee(C.value)),Q=ut(()=>w.value===!0&&n.isUploading.value!==!0&&(A.multiple===!0||n.queuedFiles.value.length===0)&&(A.maxFiles===void 0||n.files.value.length<k.value)&&(A.maxTotalSize===void 0||C.value<F.value)),h=ut(()=>w.value===!0&&n.isBusy.value!==!0&&n.isUploading.value!==!0&&n.queuedFiles.value.length!==0);Ae(Ie,H);const O=ut(()=>"q-uploader column no-wrap"+(u.value===!0?" q-uploader--dark q-dark":"")+(A.bordered===!0?" q-uploader--bordered":"")+(A.square===!0?" q-uploader--square no-border-radius":"")+(A.flat===!0?" q-uploader--flat no-shadow":"")+(A.disable===!0?" disabled q-uploader--disable":"")+(_.value===!0?" q-uploader--dnd":"")),r=ut(()=>"q-uploader__header"+(A.color!==void 0?` bg-${A.color}`:"")+(A.textColor!==void 0?` text-${A.textColor}`:""));se(n.isUploading,(W,tt)=>{tt===!1&&W===!0?d("start"):tt===!0&&W===!1&&d("finish")});function T(){A.disable===!1&&(n.abort(),n.uploadedSize.value=0,C.value=0,J(),n.files.value=[],n.queuedFiles.value=[],n.uploadedFiles.value=[])}function K(){A.disable===!1&&rt(["uploaded"],()=>{n.uploadedFiles.value=[]})}function q(){rt(["idle","failed"],({size:W})=>{C.value-=W,n.queuedFiles.value=[]})}function rt(W,tt){if(A.disable===!0)return;const it={files:[],size:0},mt=n.files.value.filter(dt=>W.indexOf(dt.__status)===-1?!0:(it.size+=dt.size,it.files.push(dt),dt.__img!==void 0&&window.URL.revokeObjectURL(dt.__img.src),!1));it.files.length!==0&&(n.files.value=mt,tt(it),d("removed",it.files))}function Z(W){A.disable||(W.__status==="uploaded"?n.uploadedFiles.value=n.uploadedFiles.value.filter(tt=>tt.__key!==W.__key):W.__status==="uploading"?W.__abort():C.value-=W.size,n.files.value=n.files.value.filter(tt=>tt.__key!==W.__key?!0:(tt.__img!==void 0&&window.URL.revokeObjectURL(tt.__img.src),!1)),n.queuedFiles.value=n.queuedFiles.value.filter(tt=>tt.__key!==W.__key),d("removed",[W]))}function J(){n.files.value.forEach(W=>{W.__img!==void 0&&window.URL.revokeObjectURL(W.__img.src)})}function B(){return i.value||g.value.getElementsByClassName("q-uploader__input")[0]}function I(W,tt){const it=v(W,tt,n.files.value,!0),mt=B();mt!=null&&(mt.value=""),it!==void 0&&(it.forEach(dt=>{if(n.updateFileStatus(dt,"idle"),C.value+=dt.size,A.noThumbnails!==!0&&dt.type.toUpperCase().startsWith("IMAGE")){const t=new Image;t.src=window.URL.createObjectURL(dt),dt.__img=t}}),n.files.value=n.files.value.concat(it),n.queuedFiles.value=n.queuedFiles.value.concat(it),d("added",it),A.autoUpload===!0&&n.upload())}function Y(){h.value===!0&&n.upload()}function $(W,tt,it){if(W===!0){const mt={type:"a",key:tt,icon:a.iconSet.uploader[tt],flat:!0,dense:!0};let dt;return tt==="add"?(mt.onClick=e,dt=H):mt.onClick=it,at($t,mt,dt)}}function H(){return at("input",{ref:i,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:A.accept,multiple:A.multiple===!0?"multiple":void 0,capture:A.capture,onMousedown:ie,onClick:e,onChange:I})}function ht(){return b.header!==void 0?b.header(nt):[at("div",{class:"q-uploader__header-content column"},[at("div",{class:"flex flex-center no-wrap q-gutter-xs"},[$(n.queuedFiles.value.length!==0,"removeQueue",q),$(n.uploadedFiles.value.length!==0,"removeUploaded",K),n.isUploading.value===!0?at(Ht,{class:"q-uploader__spinner"}):null,at("div",{class:"col column justify-center"},[A.label!==void 0?at("div",{class:"q-uploader__title"},[A.label]):null,at("div",{class:"q-uploader__subtitle"},[N.value+" / "+z.value])]),$(Q.value,"add"),$(A.hideUploadBtn===!1&&h.value===!0,"upload",n.upload),$(n.isUploading.value,"clear",n.abort)])])]}function _t(){return b.list!==void 0?b.list(nt):n.files.value.map(W=>at("div",{key:W.__key,class:"q-uploader__file relative-position"+(A.noThumbnails!==!0&&W.__img!==void 0?" q-uploader__file--img":"")+(W.__status==="failed"?" q-uploader__file--failed":W.__status==="uploaded"?" q-uploader__file--uploaded":""),style:A.noThumbnails!==!0&&W.__img!==void 0?{backgroundImage:'url("'+W.__img.src+'")',backgroundSize:A.thumbnailFit}:null},[at("div",{class:"q-uploader__file-header row flex-center no-wrap"},[W.__status==="failed"?at(oe,{class:"q-uploader__file-status",name:a.iconSet.type.negative,color:"negative"}):null,at("div",{class:"q-uploader__file-header-content col"},[at("div",{class:"q-uploader__title"},[W.name]),at("div",{class:"q-uploader__subtitle row items-center no-wrap"},[W.__sizeLabel+" / "+W.__progressLabel])]),W.__status==="uploading"?at(Me,{value:W.__progress,min:0,max:1,indeterminate:W.__progress===0}):at($t,{round:!0,dense:!0,flat:!0,icon:a.iconSet.uploader[W.__status==="uploaded"?"done":"clear"],onClick:()=>{Z(W)}})])]))}Se(()=>{n.isUploading.value===!0&&n.abort(),n.files.value.length!==0&&J()});const nt={};for(const W in n)ze(n[W])===!0?Ce(nt,W,()=>n[W].value):nt[W]=n[W];return Object.assign(nt,{upload:Y,reset:T,removeUploadedFiles:K,removeQueuedFiles:q,removeFile:Z,pickFiles:e,addFiles:l}),Ee(nt,{canAddFiles:()=>Q.value,canUpload:()=>h.value,uploadSizeLabel:()=>N.value,uploadProgressLabel:()=>z.value}),et({...n,upload:Y,reset:T,removeUploadedFiles:K,removeQueuedFiles:q,removeFile:Z,pickFiles:e,addFiles:l,canAddFiles:Q,canUpload:h,uploadSizeLabel:N,uploadProgressLabel:z}),()=>{const W=[at("div",{class:r.value},ht()),at("div",{class:"q-uploader__list scroll"},_t()),x("uploader")];n.isBusy.value===!0&&W.push(at("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[at(Ht)]));const tt={ref:g,class:O.value};return Q.value===!0&&Object.assign(tt,{onDragover:s,onDragleave:o}),at("div",tt,W)}}const Ke=()=>!0;function Ye(U){const et={};return U.forEach(m=>{et[m]=Ke}),et}const Xe=Ye(fe),Je=({name:U,props:et,emits:m,injectPlugin:A})=>Qt({name:U,props:{...Ve,...et},emits:Fe(m)===!0?{...Xe,...m}:[...fe,...m],setup(b,{expose:d}){return Qe(A,d)}});function xt(U){return typeof U=="function"?U:()=>U}const tr="QUploader",er={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>U=>U.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},rr=["factoryFailed","uploaded","failed","uploading"];function nr({props:U,emit:et,helpers:m}){const A=ft([]),b=ft([]),d=ft(0),c=ut(()=>({url:xt(U.url),method:xt(U.method),headers:xt(U.headers),formFields:xt(U.formFields),fieldName:xt(U.fieldName),withCredentials:xt(U.withCredentials),sendRaw:xt(U.sendRaw),batch:xt(U.batch)})),a=ut(()=>d.value>0),u=ut(()=>b.value.length!==0);let y;function w(){A.value.forEach(n=>{n.abort()}),b.value.length!==0&&(y=!0)}function _(){const n=m.queuedFiles.value.slice(0);m.queuedFiles.value=[],c.value.batch(n)?g(n):n.forEach(e=>{g([e])})}function g(n){if(d.value++,typeof U.factory!="function"){i(n,{});return}const e=U.factory(n);if(!e)et("factoryFailed",new Error("QUploader: factory() does not return properly"),n),d.value--;else if(typeof e.catch=="function"&&typeof e.then=="function"){b.value.push(e);const l=s=>{m.isAlive()===!0&&(b.value=b.value.filter(o=>o!==e),b.value.length===0&&(y=!1),m.queuedFiles.value=m.queuedFiles.value.concat(n),n.forEach(o=>{m.updateFileStatus(o,"failed")}),et("factoryFailed",s,n),d.value--)};e.then(s=>{y===!0?l(new Error("Aborted")):m.isAlive()===!0&&(b.value=b.value.filter(o=>o!==e),i(n,s))}).catch(l)}else i(n,e||{})}function i(n,e){const l=new FormData,s=new XMLHttpRequest,o=(h,O)=>e[h]!==void 0?xt(e[h])(O):c.value[h](O),v=o("url",n);if(!v){console.error("q-uploader: invalid or no URL specified"),d.value--;return}const x=o("formFields",n);x!==void 0&&x.forEach(h=>{l.append(h.name,h.value)});let k=0,F=0,C=0,P=0,z;s.upload.addEventListener("progress",h=>{if(z===!0)return;const O=Math.min(P,h.loaded);m.uploadedSize.value+=O-C,C=O;let r=C-F;for(let T=k;r>0&&T<n.length;T++){const K=n[T];if(r>K.size)r-=K.size,k++,F+=K.size,m.updateFileStatus(K,"uploading",K.size);else{m.updateFileStatus(K,"uploading",r);return}}},!1),s.onreadystatechange=()=>{s.readyState<4||(s.status&&s.status<400?(m.uploadedFiles.value=m.uploadedFiles.value.concat(n),n.forEach(h=>{m.updateFileStatus(h,"uploaded")}),et("uploaded",{files:n,xhr:s})):(z=!0,m.uploadedSize.value-=C,m.queuedFiles.value=m.queuedFiles.value.concat(n),n.forEach(h=>{m.updateFileStatus(h,"failed")}),et("failed",{files:n,xhr:s})),d.value--,A.value=A.value.filter(h=>h!==s))},s.open(o("method",n),v),o("withCredentials",n)===!0&&(s.withCredentials=!0);const N=o("headers",n);N!==void 0&&N.forEach(h=>{s.setRequestHeader(h.name,h.value)});const Q=o("sendRaw",n);n.forEach(h=>{m.updateFileStatus(h,"uploading",0),Q!==!0&&l.append(o("fieldName",h),h,h.name),h.xhr=s,h.__abort=()=>{s.abort()},P+=h.size}),et("uploading",{files:n,xhr:s}),A.value.push(s),Q===!0?s.send(new Blob(n)):s.send(l)}return{isUploading:a,isBusy:u,abort:w,upload:_}}const ir={name:tr,props:er,emits:rr,injectPlugin:nr},ar=Je(ir),sr={ratio:[String,Number]};function or(U,et){return ut(()=>{const m=Number(U.ratio||(et!==void 0?et.value:void 0));return isNaN(m)!==!0&&m>0?{paddingBottom:`${100/m}%`}:null})}const lr=1.7778,ur=Qt({name:"QImg",props:{...sr,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:lr},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(U,{slots:et,emit:m}){const A=ft(U.initialRatio),b=or(U,A),d=Wt(),{registerTimeout:c,removeTimeout:a}=Xt(),{registerTimeout:u,removeTimeout:y}=Xt(),w=ut(()=>U.placeholderSrc!==void 0?{src:U.placeholderSrc}:null),_=ut(()=>U.errorSrc!==void 0?{src:U.errorSrc,__qerror:!0}:null),g=[ft(null),ft(w.value)],i=ft(0),n=ft(!1),e=ft(!1),l=ut(()=>`q-img q-img--${U.noNativeMenu===!0?"no-":""}menu`),s=ut(()=>({width:U.width,height:U.height})),o=ut(()=>`q-img__image ${U.imgClass!==void 0?U.imgClass+" ":""}q-img__image--with${U.noTransition===!0?"out":""}-transition q-img__image--`),v=ut(()=>({...U.imgStyle,objectFit:U.fit,objectPosition:U.position}));function x(){if(y(),U.loadingShowDelay===0){n.value=!0;return}u(()=>{n.value=!0},U.loadingShowDelay)}function k(){y(),n.value=!1}function F({target:h}){qt(d)===!1&&(a(),A.value=h.naturalHeight===0?.5:h.naturalWidth/h.naturalHeight,C(h,1))}function C(h,O){O===1e3||qt(d)===!0||(h.complete===!0?P(h):c(()=>{C(h,O+1)},50))}function P(h){qt(d)!==!0&&(i.value=i.value^1,g[i.value].value=null,k(),h.getAttribute("__qerror")!=="true"&&(e.value=!1),m("load",h.currentSrc||h.src))}function z(h){a(),k(),e.value=!0,g[i.value].value=_.value,g[i.value^1].value=w.value,m("error",h)}function N(h){const O=g[h].value,r={key:"img_"+h,class:o.value,style:v.value,alt:U.alt,crossorigin:U.crossorigin,decoding:U.decoding,referrerpolicy:U.referrerpolicy,height:U.height,width:U.width,loading:U.loading,fetchpriority:U.fetchpriority,"aria-hidden":"true",draggable:U.draggable,...O};return i.value===h?Object.assign(r,{class:r.class+"current",onLoad:F,onError:z}):r.class+="loaded",at("div",{class:"q-img__container absolute-full",key:"img"+h},at("img",r))}function Q(){return n.value===!1?at("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Te(et[e.value===!0?"error":"default"])):at("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},et.loading!==void 0?et.loading():U.noSpinner===!0?void 0:[at(Ht,{color:U.spinnerColor,size:U.spinnerSize})])}{let h=function(){se(()=>U.src||U.srcset||U.sizes?{src:U.src,srcset:U.srcset,sizes:U.sizes}:null,O=>{a(),e.value=!1,O===null?(k(),g[i.value^1].value=w.value):x(),g[i.value].value=O},{immediate:!0})};Be.value===!0?Oe(h):h()}return()=>{const h=[];return b.value!==null&&h.push(at("div",{key:"filler",style:b.value})),g[0].value!==null&&h.push(N(0)),g[1].value!==null&&h.push(N(1)),h.push(at(Re,{name:"q-transition--fade"},Q)),at("div",{key:"main",class:l.value,style:s.value,role:"img","aria-label":U.alt},h)}}});function jt(U){throw new Error('Could not dynamically require "'+U+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Gt={exports:{}};var ne;function dr(){return ne||(ne=1,(function(U,et){(function(m){U.exports=m()})(function(){return(function m(A,b,d){function c(y,w){if(!b[y]){if(!A[y]){var _=typeof jt=="function"&&jt;if(!w&&_)return _(y,!0);if(a)return a(y,!0);var g=new Error("Cannot find module '"+y+"'");throw g.code="MODULE_NOT_FOUND",g}var i=b[y]={exports:{}};A[y][0].call(i.exports,function(n){var e=A[y][1][n];return c(e||n)},i,i.exports,m,A,b,d)}return b[y].exports}for(var a=typeof jt=="function"&&jt,u=0;u<d.length;u++)c(d[u]);return c})({1:[function(m,A,b){var d=m("./utils"),c=m("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(u){for(var y,w,_,g,i,n,e,l=[],s=0,o=u.length,v=o,x=d.getTypeOf(u)!=="string";s<u.length;)v=o-s,_=x?(y=u[s++],w=s<o?u[s++]:0,s<o?u[s++]:0):(y=u.charCodeAt(s++),w=s<o?u.charCodeAt(s++):0,s<o?u.charCodeAt(s++):0),g=y>>2,i=(3&y)<<4|w>>4,n=1<v?(15&w)<<2|_>>6:64,e=2<v?63&_:64,l.push(a.charAt(g)+a.charAt(i)+a.charAt(n)+a.charAt(e));return l.join("")},b.decode=function(u){var y,w,_,g,i,n,e=0,l=0,s="data:";if(u.substr(0,s.length)===s)throw new Error("Invalid base64 input, it looks like a data url.");var o,v=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===a.charAt(64)&&v--,u.charAt(u.length-2)===a.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(o=c.uint8array?new Uint8Array(0|v):new Array(0|v);e<u.length;)y=a.indexOf(u.charAt(e++))<<2|(g=a.indexOf(u.charAt(e++)))>>4,w=(15&g)<<4|(i=a.indexOf(u.charAt(e++)))>>2,_=(3&i)<<6|(n=a.indexOf(u.charAt(e++))),o[l++]=y,i!==64&&(o[l++]=w),n!==64&&(o[l++]=_);return o}},{"./support":30,"./utils":32}],2:[function(m,A,b){var d=m("./external"),c=m("./stream/DataWorker"),a=m("./stream/Crc32Probe"),u=m("./stream/DataLengthProbe");function y(w,_,g,i,n){this.compressedSize=w,this.uncompressedSize=_,this.crc32=g,this.compression=i,this.compressedContent=n}y.prototype={getContentWorker:function(){var w=new c(d.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),_=this;return w.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new c(d.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(w,_,g){return w.pipe(new a).pipe(new u("uncompressedSize")).pipe(_.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",_)},A.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,A,b){var d=m("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new d("STORE compression")},uncompressWorker:function(){return new d("STORE decompression")}},b.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,A,b){var d=m("./utils"),c=(function(){for(var a,u=[],y=0;y<256;y++){a=y;for(var w=0;w<8;w++)a=1&a?3988292384^a>>>1:a>>>1;u[y]=a}return u})();A.exports=function(a,u){return a!==void 0&&a.length?d.getTypeOf(a)!=="string"?(function(y,w,_,g){var i=c,n=g+_;y^=-1;for(var e=g;e<n;e++)y=y>>>8^i[255&(y^w[e])];return-1^y})(0|u,a,a.length,0):(function(y,w,_,g){var i=c,n=g+_;y^=-1;for(var e=g;e<n;e++)y=y>>>8^i[255&(y^w.charCodeAt(e))];return-1^y})(0|u,a,a.length,0):0}},{"./utils":32}],5:[function(m,A,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(m,A,b){var d=null;d=typeof Promise<"u"?Promise:m("lie"),A.exports={Promise:d}},{lie:37}],7:[function(m,A,b){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=m("pako"),a=m("./utils"),u=m("./stream/GenericWorker"),y=d?"uint8array":"array";function w(_,g){u.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=g,this.meta={}}b.magic="\b\0",a.inherits(w,u),w.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(y,_.data),!1)},w.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(g){_.push({data:g,meta:_.meta})}},b.compressWorker=function(_){return new w("Deflate",_)},b.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,A,b){function d(i,n){var e,l="";for(e=0;e<n;e++)l+=String.fromCharCode(255&i),i>>>=8;return l}function c(i,n,e,l,s,o){var v,x,k=i.file,F=i.compression,C=o!==y.utf8encode,P=a.transformTo("string",o(k.name)),z=a.transformTo("string",y.utf8encode(k.name)),N=k.comment,Q=a.transformTo("string",o(N)),h=a.transformTo("string",y.utf8encode(N)),O=z.length!==k.name.length,r=h.length!==N.length,T="",K="",q="",rt=k.dir,Z=k.date,J={crc32:0,compressedSize:0,uncompressedSize:0};n&&!e||(J.crc32=i.crc32,J.compressedSize=i.compressedSize,J.uncompressedSize=i.uncompressedSize);var B=0;n&&(B|=8),C||!O&&!r||(B|=2048);var I=0,Y=0;rt&&(I|=16),s==="UNIX"?(Y=798,I|=(function(H,ht){var _t=H;return H||(_t=ht?16893:33204),(65535&_t)<<16})(k.unixPermissions,rt)):(Y=20,I|=(function(H){return 63&(H||0)})(k.dosPermissions)),v=Z.getUTCHours(),v<<=6,v|=Z.getUTCMinutes(),v<<=5,v|=Z.getUTCSeconds()/2,x=Z.getUTCFullYear()-1980,x<<=4,x|=Z.getUTCMonth()+1,x<<=5,x|=Z.getUTCDate(),O&&(K=d(1,1)+d(w(P),4)+z,T+="up"+d(K.length,2)+K),r&&(q=d(1,1)+d(w(Q),4)+h,T+="uc"+d(q.length,2)+q);var $="";return $+=`
\0`,$+=d(B,2),$+=F.magic,$+=d(v,2),$+=d(x,2),$+=d(J.crc32,4),$+=d(J.compressedSize,4),$+=d(J.uncompressedSize,4),$+=d(P.length,2),$+=d(T.length,2),{fileRecord:_.LOCAL_FILE_HEADER+$+P+T,dirRecord:_.CENTRAL_FILE_HEADER+d(Y,2)+$+d(Q.length,2)+"\0\0\0\0"+d(I,4)+d(l,4)+P+T+Q}}var a=m("../utils"),u=m("../stream/GenericWorker"),y=m("../utf8"),w=m("../crc32"),_=m("../signature");function g(i,n,e,l){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=n,this.zipPlatform=e,this.encodeFileName=l,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(g,u),g.prototype.push=function(i){var n=i.meta.percent||0,e=this.entriesCount,l=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,u.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:e?(n+100*(e-l-1))/e:100}}))},g.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var n=this.streamFiles&&!i.file.dir;if(n){var e=c(i,n,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:e.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(i){this.accumulate=!1;var n=this.streamFiles&&!i.file.dir,e=c(i,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(e.dirRecord),n)this.push({data:(function(l){return _.DATA_DESCRIPTOR+d(l.crc32,4)+d(l.compressedSize,4)+d(l.uncompressedSize,4)})(i),meta:{percent:100}});else for(this.push({data:e.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var i=this.bytesWritten,n=0;n<this.dirRecords.length;n++)this.push({data:this.dirRecords[n],meta:{percent:100}});var e=this.bytesWritten-i,l=(function(s,o,v,x,k){var F=a.transformTo("string",k(x));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+d(s,2)+d(s,2)+d(o,4)+d(v,4)+d(F.length,2)+F})(this.dirRecords.length,e,i,this.zipComment,this.encodeFileName);this.push({data:l,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(i){this._sources.push(i);var n=this;return i.on("data",function(e){n.processChunk(e)}),i.on("end",function(){n.closedSource(n.previous.streamInfo),n._sources.length?n.prepareNextSource():n.end()}),i.on("error",function(e){n.error(e)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(i){var n=this._sources;if(!u.prototype.error.call(this,i))return!1;for(var e=0;e<n.length;e++)try{n[e].error(i)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var i=this._sources,n=0;n<i.length;n++)i[n].lock()},A.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,A,b){var d=m("../compressions"),c=m("./ZipFileWorker");b.generateWorker=function(a,u,y){var w=new c(u.streamFiles,y,u.platform,u.encodeFileName),_=0;try{a.forEach(function(g,i){_++;var n=(function(o,v){var x=o||v,k=d[x];if(!k)throw new Error(x+" is not a valid compression method !");return k})(i.options.compression,u.compression),e=i.options.compressionOptions||u.compressionOptions||{},l=i.dir,s=i.date;i._compressWorker(n,e).withStreamInfo("file",{name:g,dir:l,date:s,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=_}catch(g){w.error(g)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,A,b){function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new d;for(var a in this)typeof this[a]!="function"&&(c[a]=this[a]);return c}}(d.prototype=m("./object")).loadAsync=m("./load"),d.support=m("./support"),d.defaults=m("./defaults"),d.version="3.10.1",d.loadAsync=function(c,a){return new d().loadAsync(c,a)},d.external=m("./external"),A.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,A,b){var d=m("./utils"),c=m("./external"),a=m("./utf8"),u=m("./zipEntries"),y=m("./stream/Crc32Probe"),w=m("./nodejsUtils");function _(g){return new c.Promise(function(i,n){var e=g.decompressed.getContentWorker().pipe(new y);e.on("error",function(l){n(l)}).on("end",function(){e.streamInfo.crc32!==g.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}A.exports=function(g,i){var n=this;return i=d.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),w.isNode&&w.isStream(g)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):d.prepareContent("the loaded zip file",g,!0,i.optimizedBinaryString,i.base64).then(function(e){var l=new u(i);return l.load(e),l}).then(function(e){var l=[c.Promise.resolve(e)],s=e.files;if(i.checkCRC32)for(var o=0;o<s.length;o++)l.push(_(s[o]));return c.Promise.all(l)}).then(function(e){for(var l=e.shift(),s=l.files,o=0;o<s.length;o++){var v=s[o],x=v.fileNameStr,k=d.resolve(v.fileNameStr);n.file(k,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:i.createFolders}),v.dir||(n.file(k).unsafeOriginalName=x)}return l.zipComment.length&&(n.comment=l.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,A,b){var d=m("../utils"),c=m("../stream/GenericWorker");function a(u,y){c.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(y)}d.inherits(a,c),a.prototype._bindStream=function(u){var y=this;(this._stream=u).pause(),u.on("data",function(w){y.push({data:w,meta:{percent:0}})}).on("error",function(w){y.isPaused?this.generatedError=w:y.error(w)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},a.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},A.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,A,b){var d=m("readable-stream").Readable;function c(a,u,y){d.call(this,u),this._helper=a;var w=this;a.on("data",function(_,g){w.push(_)||w._helper.pause(),y&&y(g)}).on("error",function(_){w.emit("error",_)}).on("end",function(){w.push(null)})}m("../utils").inherits(c,d),c.prototype._read=function(){this._helper.resume()},A.exports=c},{"../utils":32,"readable-stream":16}],14:[function(m,A,b){A.exports={isNode:typeof Buffer<"u",newBufferFrom:function(d,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(d,c);if(typeof d=="number")throw new Error('The "data" argument must not be a number');return new Buffer(d,c)},allocBuffer:function(d){if(Buffer.alloc)return Buffer.alloc(d);var c=new Buffer(d);return c.fill(0),c},isBuffer:function(d){return Buffer.isBuffer(d)},isStream:function(d){return d&&typeof d.on=="function"&&typeof d.pause=="function"&&typeof d.resume=="function"}}},{}],15:[function(m,A,b){function d(k,F,C){var P,z=a.getTypeOf(F),N=a.extend(C||{},w);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(k=s(k)),N.createFolders&&(P=l(k))&&o.call(this,P,!0);var Q=z==="string"&&N.binary===!1&&N.base64===!1;C&&C.binary!==void 0||(N.binary=!Q),(F instanceof _&&F.uncompressedSize===0||N.dir||!F||F.length===0)&&(N.base64=!1,N.binary=!0,F="",N.compression="STORE",z="string");var h=null;h=F instanceof _||F instanceof u?F:n.isNode&&n.isStream(F)?new e(k,F):a.prepareContent(k,F,N.binary,N.optimizedBinaryString,N.base64);var O=new g(k,h,N);this.files[k]=O}var c=m("./utf8"),a=m("./utils"),u=m("./stream/GenericWorker"),y=m("./stream/StreamHelper"),w=m("./defaults"),_=m("./compressedObject"),g=m("./zipObject"),i=m("./generate"),n=m("./nodejsUtils"),e=m("./nodejs/NodejsStreamInputAdapter"),l=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var F=k.lastIndexOf("/");return 0<F?k.substring(0,F):""},s=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},o=function(k,F){return F=F!==void 0?F:w.createFolders,k=s(k),this.files[k]||d.call(this,k,null,{dir:!0,createFolders:F}),this.files[k]};function v(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var F,C,P;for(F in this.files)P=this.files[F],(C=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&k(C,P)},filter:function(k){var F=[];return this.forEach(function(C,P){k(C,P)&&F.push(P)}),F},file:function(k,F,C){if(arguments.length!==1)return k=this.root+k,d.call(this,k,F,C),this;if(v(k)){var P=k;return this.filter(function(N,Q){return!Q.dir&&P.test(N)})}var z=this.files[this.root+k];return z&&!z.dir?z:null},folder:function(k){if(!k)return this;if(v(k))return this.filter(function(z,N){return N.dir&&k.test(z)});var F=this.root+k,C=o.call(this,F),P=this.clone();return P.root=C.name,P},remove:function(k){k=this.root+k;var F=this.files[k];if(F||(k.slice(-1)!=="/"&&(k+="/"),F=this.files[k]),F&&!F.dir)delete this.files[k];else for(var C=this.filter(function(z,N){return N.name.slice(0,k.length)===k}),P=0;P<C.length;P++)delete this.files[C[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var F,C={};try{if((C=a.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");a.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var P=C.comment||this.comment||"";F=i.generateWorker(this,C,P)}catch(z){(F=new u("error")).error(z)}return new y(F,C.type||"string",C.mimeType)},generateAsync:function(k,F){return this.generateInternalStream(k).accumulate(F)},generateNodeStream:function(k,F){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(F)}};A.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,A,b){A.exports=m("stream")},{stream:void 0}],17:[function(m,A,b){var d=m("./DataReader");function c(a){d.call(this,a);for(var u=0;u<this.data.length;u++)a[u]=255&a[u]}m("../utils").inherits(c,d),c.prototype.byteAt=function(a){return this.data[this.zero+a]},c.prototype.lastIndexOfSignature=function(a){for(var u=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),_=a.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===y&&this.data[g+2]===w&&this.data[g+3]===_)return g-this.zero;return-1},c.prototype.readAndCheckSignature=function(a){var u=a.charCodeAt(0),y=a.charCodeAt(1),w=a.charCodeAt(2),_=a.charCodeAt(3),g=this.readData(4);return u===g[0]&&y===g[1]&&w===g[2]&&_===g[3]},c.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},A.exports=c},{"../utils":32,"./DataReader":18}],18:[function(m,A,b){var d=m("../utils");function c(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u,y=0;for(this.checkOffset(a),u=this.index+a-1;u>=this.index;u--)y=(y<<8)+this.byteAt(u);return this.index+=a,y},readString:function(a){return d.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},A.exports=c},{"../utils":32}],19:[function(m,A,b){var d=m("./Uint8ArrayReader");function c(a){d.call(this,a)}m("../utils").inherits(c,d),c.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},A.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,A,b){var d=m("./DataReader");function c(a){d.call(this,a)}m("../utils").inherits(c,d),c.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},c.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},c.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},c.prototype.readData=function(a){this.checkOffset(a);var u=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},A.exports=c},{"../utils":32,"./DataReader":18}],21:[function(m,A,b){var d=m("./ArrayReader");function c(a){d.call(this,a)}m("../utils").inherits(c,d),c.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,u},A.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(m,A,b){var d=m("../utils"),c=m("../support"),a=m("./ArrayReader"),u=m("./StringReader"),y=m("./NodeBufferReader"),w=m("./Uint8ArrayReader");A.exports=function(_){var g=d.getTypeOf(_);return d.checkSupport(g),g!=="string"||c.uint8array?g==="nodebuffer"?new y(_):c.uint8array?new w(d.transformTo("uint8array",_)):new a(d.transformTo("array",_)):new u(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,A,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,A,b){var d=m("./GenericWorker"),c=m("../utils");function a(u){d.call(this,"ConvertWorker to "+u),this.destType=u}c.inherits(a,d),a.prototype.processChunk=function(u){this.push({data:c.transformTo(this.destType,u.data),meta:u.meta})},A.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(m,A,b){var d=m("./GenericWorker"),c=m("../crc32");function a(){d.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(a,d),a.prototype.processChunk=function(u){this.streamInfo.crc32=c(u.data,this.streamInfo.crc32||0),this.push(u)},A.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,A,b){var d=m("../utils"),c=m("./GenericWorker");function a(u){c.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}d.inherits(a,c),a.prototype.processChunk=function(u){if(u){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+u.data.length}c.prototype.processChunk.call(this,u)},A.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(m,A,b){var d=m("../utils"),c=m("./GenericWorker");function a(u){c.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(w){y.dataIsReady=!0,y.data=w,y.max=w&&w.length||0,y.type=d.getTypeOf(w),y.isPaused||y._tickAndRepeat()},function(w){y.error(w)})}d.inherits(a,c),a.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,d.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(d.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,y);break;case"uint8array":u=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":u=this.data.slice(this.index,y)}return this.index=y,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},A.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(m,A,b){function d(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,a){return this._listeners[c].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,a){if(this._listeners[c])for(var u=0;u<this._listeners[c].length;u++)this._listeners[c][u].call(this,a)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var a=this;return c.on("data",function(u){a.processChunk(u)}),c.on("end",function(){a.end()}),c.on("error",function(u){a.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,a){return this.extraStreamInfo[c]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},A.exports=d},{}],29:[function(m,A,b){var d=m("../utils"),c=m("./ConvertWorker"),a=m("./GenericWorker"),u=m("../base64"),y=m("../support"),w=m("../external"),_=null;if(y.nodestream)try{_=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(n,e){return new w.Promise(function(l,s){var o=[],v=n._internalType,x=n._outputType,k=n._mimeType;n.on("data",function(F,C){o.push(F),e&&e(C)}).on("error",function(F){o=[],s(F)}).on("end",function(){try{var F=(function(C,P,z){switch(C){case"blob":return d.newBlob(d.transformTo("arraybuffer",P),z);case"base64":return u.encode(P);default:return d.transformTo(C,P)}})(x,(function(C,P){var z,N=0,Q=null,h=0;for(z=0;z<P.length;z++)h+=P[z].length;switch(C){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(Q=new Uint8Array(h),z=0;z<P.length;z++)Q.set(P[z],N),N+=P[z].length;return Q;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+C+"'")}})(v,o),k);l(F)}catch(C){s(C)}o=[]}).resume()})}function i(n,e,l){var s=e;switch(e){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=e,this._mimeType=l,d.checkSupport(s),this._worker=n.pipe(new c(s)),n.lock()}catch(o){this._worker=new a("error"),this._worker.error(o)}}i.prototype={accumulate:function(n){return g(this,n)},on:function(n,e){var l=this;return n==="data"?this._worker.on(n,function(s){e.call(l,s.data,s.meta)}):this._worker.on(n,function(){d.delay(e,arguments,l)}),this},resume:function(){return d.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(n){if(d.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},n)}},A.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,A,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=typeof Buffer<"u",b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var d=new ArrayBuffer(0);try{b.blob=new Blob([d],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(d),b.blob=c.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!m("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(m,A,b){for(var d=m("./utils"),c=m("./support"),a=m("./nodejsUtils"),u=m("./stream/GenericWorker"),y=new Array(256),w=0;w<256;w++)y[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;y[254]=y[254]=1;function _(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}b.utf8encode=function(i){return c.nodebuffer?a.newBufferFrom(i,"utf-8"):(function(n){var e,l,s,o,v,x=n.length,k=0;for(o=0;o<x;o++)(64512&(l=n.charCodeAt(o)))==55296&&o+1<x&&(64512&(s=n.charCodeAt(o+1)))==56320&&(l=65536+(l-55296<<10)+(s-56320),o++),k+=l<128?1:l<2048?2:l<65536?3:4;for(e=c.uint8array?new Uint8Array(k):new Array(k),o=v=0;v<k;o++)(64512&(l=n.charCodeAt(o)))==55296&&o+1<x&&(64512&(s=n.charCodeAt(o+1)))==56320&&(l=65536+(l-55296<<10)+(s-56320),o++),l<128?e[v++]=l:(l<2048?e[v++]=192|l>>>6:(l<65536?e[v++]=224|l>>>12:(e[v++]=240|l>>>18,e[v++]=128|l>>>12&63),e[v++]=128|l>>>6&63),e[v++]=128|63&l);return e})(i)},b.utf8decode=function(i){return c.nodebuffer?d.transformTo("nodebuffer",i).toString("utf-8"):(function(n){var e,l,s,o,v=n.length,x=new Array(2*v);for(e=l=0;e<v;)if((s=n[e++])<128)x[l++]=s;else if(4<(o=y[s]))x[l++]=65533,e+=o-1;else{for(s&=o===2?31:o===3?15:7;1<o&&e<v;)s=s<<6|63&n[e++],o--;1<o?x[l++]=65533:s<65536?x[l++]=s:(s-=65536,x[l++]=55296|s>>10&1023,x[l++]=56320|1023&s)}return x.length!==l&&(x.subarray?x=x.subarray(0,l):x.length=l),d.applyFromCharCode(x)})(i=d.transformTo(c.uint8array?"uint8array":"array",i))},d.inherits(_,u),_.prototype.processChunk=function(i){var n=d.transformTo(c.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var e=n;(n=new Uint8Array(e.length+this.leftOver.length)).set(this.leftOver,0),n.set(e,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var l=(function(o,v){var x;for((v=v||o.length)>o.length&&(v=o.length),x=v-1;0<=x&&(192&o[x])==128;)x--;return x<0||x===0?v:x+y[o[x]]>v?x:v})(n),s=n;l!==n.length&&(c.uint8array?(s=n.subarray(0,l),this.leftOver=n.subarray(l,n.length)):(s=n.slice(0,l),this.leftOver=n.slice(l,n.length))),this.push({data:b.utf8decode(s),meta:i.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=_,d.inherits(g,u),g.prototype.processChunk=function(i){this.push({data:b.utf8encode(i.data),meta:i.meta})},b.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,A,b){var d=m("./support"),c=m("./base64"),a=m("./nodejsUtils"),u=m("./external");function y(e){return e}function w(e,l){for(var s=0;s<e.length;++s)l[s]=255&e.charCodeAt(s);return l}m("setimmediate"),b.newBlob=function(e,l){b.checkSupport("blob");try{return new Blob([e],{type:l})}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(e),s.getBlob(l)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(e,l,s){var o=[],v=0,x=e.length;if(x<=s)return String.fromCharCode.apply(null,e);for(;v<x;)l==="array"||l==="nodebuffer"?o.push(String.fromCharCode.apply(null,e.slice(v,Math.min(v+s,x)))):o.push(String.fromCharCode.apply(null,e.subarray(v,Math.min(v+s,x)))),v+=s;return o.join("")},stringifyByChar:function(e){for(var l="",s=0;s<e.length;s++)l+=String.fromCharCode(e[s]);return l},applyCanBeUsed:{uint8array:(function(){try{return d.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return d.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function g(e){var l=65536,s=b.getTypeOf(e),o=!0;if(s==="uint8array"?o=_.applyCanBeUsed.uint8array:s==="nodebuffer"&&(o=_.applyCanBeUsed.nodebuffer),o)for(;1<l;)try{return _.stringifyByChunk(e,s,l)}catch{l=Math.floor(l/2)}return _.stringifyByChar(e)}function i(e,l){for(var s=0;s<e.length;s++)l[s]=e[s];return l}b.applyFromCharCode=g;var n={};n.string={string:y,array:function(e){return w(e,new Array(e.length))},arraybuffer:function(e){return n.string.uint8array(e).buffer},uint8array:function(e){return w(e,new Uint8Array(e.length))},nodebuffer:function(e){return w(e,a.allocBuffer(e.length))}},n.array={string:g,array:y,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},n.arraybuffer={string:function(e){return g(new Uint8Array(e))},array:function(e){return i(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:y,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},n.uint8array={string:g,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:y,nodebuffer:function(e){return a.newBufferFrom(e)}},n.nodebuffer={string:g,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return n.nodebuffer.uint8array(e).buffer},uint8array:function(e){return i(e,new Uint8Array(e.length))},nodebuffer:y},b.transformTo=function(e,l){if(l=l||"",!e)return l;b.checkSupport(e);var s=b.getTypeOf(l);return n[s][e](l)},b.resolve=function(e){for(var l=e.split("/"),s=[],o=0;o<l.length;o++){var v=l[o];v==="."||v===""&&o!==0&&o!==l.length-1||(v===".."?s.pop():s.push(v))}return s.join("/")},b.getTypeOf=function(e){return typeof e=="string"?"string":Object.prototype.toString.call(e)==="[object Array]"?"array":d.nodebuffer&&a.isBuffer(e)?"nodebuffer":d.uint8array&&e instanceof Uint8Array?"uint8array":d.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(e){if(!d[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(e){var l,s,o="";for(s=0;s<(e||"").length;s++)o+="\\x"+((l=e.charCodeAt(s))<16?"0":"")+l.toString(16).toUpperCase();return o},b.delay=function(e,l,s){setImmediate(function(){e.apply(s||null,l||[])})},b.inherits=function(e,l){function s(){}s.prototype=l.prototype,e.prototype=new s},b.extend=function(){var e,l,s={};for(e=0;e<arguments.length;e++)for(l in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],l)&&s[l]===void 0&&(s[l]=arguments[e][l]);return s},b.prepareContent=function(e,l,s,o,v){return u.Promise.resolve(l).then(function(x){return d.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new u.Promise(function(k,F){var C=new FileReader;C.onload=function(P){k(P.target.result)},C.onerror=function(P){F(P.target.error)},C.readAsArrayBuffer(x)}):x}).then(function(x){var k=b.getTypeOf(x);return k?(k==="arraybuffer"?x=b.transformTo("uint8array",x):k==="string"&&(v?x=c.decode(x):s&&o!==!0&&(x=(function(F){return w(F,d.uint8array?new Uint8Array(F.length):new Array(F.length))})(x))),x):u.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,A,b){var d=m("./reader/readerFor"),c=m("./utils"),a=m("./signature"),u=m("./zipEntry"),y=m("./support");function w(_){this.files=[],this.loadOptions=_}w.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(g)+", expected "+c.pretty(_)+")")}},isSignature:function(_,g){var i=this.reader.index;this.reader.setIndex(_);var n=this.reader.readString(4)===g;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),g=y.uint8array?"uint8array":"array",i=c.transformTo(g,_);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,g,i,n=this.zip64EndOfCentralSize-44;0<n;)_=this.reader.readInt(2),g=this.reader.readInt(4),i=this.reader.readData(g),this.zip64ExtensibleData[_]={id:_,length:g,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,g;for(_=0;_<this.files.length;_++)g=this.files[_],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(_=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var g=_;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=g-i;if(0<n)this.isSignature(g,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(_){this.reader=d(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},A.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,A,b){var d=m("./reader/readerFor"),c=m("./utils"),a=m("./compressedObject"),u=m("./crc32"),y=m("./utf8"),w=m("./compressions"),_=m("./support");function g(i,n){this.options=i,this.loadOptions=n}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(i){var n,e;if(i.skip(22),this.fileNameLength=i.readInt(2),e=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(e),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((n=(function(l){for(var s in w)if(Object.prototype.hasOwnProperty.call(w,s)&&w[s].magic===l)return w[s];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,n,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var n=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(n),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),i==0&&(this.dosPermissions=63&this.externalFileAttributes),i==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=d(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var n,e,l,s=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<s;)n=i.readInt(2),e=i.readInt(2),l=i.readData(e),this.extraFields[n]={id:n,length:e,value:l};i.setIndex(s)},handleUTF8:function(){var i=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var n=this.findExtraFieldUnicodePath();if(n!==null)this.fileNameStr=n;else{var e=c.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(e)}var l=this.findExtraFieldUnicodeComment();if(l!==null)this.fileCommentStr=l;else{var s=c.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var n=d(i.value);return n.readInt(1)!==1||u(this.fileName)!==n.readInt(4)?null:y.utf8decode(n.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var n=d(i.value);return n.readInt(1)!==1||u(this.fileComment)!==n.readInt(4)?null:y.utf8decode(n.readData(i.length-5))}return null}},A.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,A,b){function d(n,e,l){this.name=n,this.dir=l.dir,this.date=l.date,this.comment=l.comment,this.unixPermissions=l.unixPermissions,this.dosPermissions=l.dosPermissions,this._data=e,this._dataBinary=l.binary,this.options={compression:l.compression,compressionOptions:l.compressionOptions}}var c=m("./stream/StreamHelper"),a=m("./stream/DataWorker"),u=m("./utf8"),y=m("./compressedObject"),w=m("./stream/GenericWorker");d.prototype={internalStream:function(n){var e=null,l="string";try{if(!n)throw new Error("No output type specified.");var s=(l=n.toLowerCase())==="string"||l==="text";l!=="binarystring"&&l!=="text"||(l="string"),e=this._decompressWorker();var o=!this._dataBinary;o&&!s&&(e=e.pipe(new u.Utf8EncodeWorker)),!o&&s&&(e=e.pipe(new u.Utf8DecodeWorker))}catch(v){(e=new w("error")).error(v)}return new c(e,l,"")},async:function(n,e){return this.internalStream(n).accumulate(e)},nodeStream:function(n,e){return this.internalStream(n||"nodebuffer").toNodejsStream(e)},_compressWorker:function(n,e){if(this._data instanceof y&&this._data.compression.magic===n.magic)return this._data.getCompressedWorker();var l=this._decompressWorker();return this._dataBinary||(l=l.pipe(new u.Utf8EncodeWorker)),y.createWorkerFrom(l,n,e)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof w?this._data:new a(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<_.length;i++)d.prototype[_[i]]=g;A.exports=d},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,A,b){(function(d){var c,a,u=d.MutationObserver||d.WebKitMutationObserver;if(u){var y=0,w=new u(n),_=d.document.createTextNode("");w.observe(_,{characterData:!0}),c=function(){_.data=y=++y%2}}else if(d.setImmediate||d.MessageChannel===void 0)c="document"in d&&"onreadystatechange"in d.document.createElement("script")?function(){var e=d.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},d.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var g=new d.MessageChannel;g.port1.onmessage=n,c=function(){g.port2.postMessage(0)}}var i=[];function n(){var e,l;a=!0;for(var s=i.length;s;){for(l=i,i=[],e=-1;++e<s;)l[e]();s=i.length}a=!1}A.exports=function(e){i.push(e)!==1||a||c()}}).call(this,typeof Pt<"u"?Pt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(m,A,b){var d=m("immediate");function c(){}var a={},u=["REJECTED"],y=["FULFILLED"],w=["PENDING"];function _(s){if(typeof s!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,s!==c&&e(this,s)}function g(s,o,v){this.promise=s,typeof o=="function"&&(this.onFulfilled=o,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function i(s,o,v){d(function(){var x;try{x=o(v)}catch(k){return a.reject(s,k)}x===s?a.reject(s,new TypeError("Cannot resolve promise with itself")):a.resolve(s,x)})}function n(s){var o=s&&s.then;if(s&&(typeof s=="object"||typeof s=="function")&&typeof o=="function")return function(){o.apply(s,arguments)}}function e(s,o){var v=!1;function x(C){v||(v=!0,a.reject(s,C))}function k(C){v||(v=!0,a.resolve(s,C))}var F=l(function(){o(k,x)});F.status==="error"&&x(F.value)}function l(s,o){var v={};try{v.value=s(o),v.status="success"}catch(x){v.status="error",v.value=x}return v}(A.exports=_).prototype.finally=function(s){if(typeof s!="function")return this;var o=this.constructor;return this.then(function(v){return o.resolve(s()).then(function(){return v})},function(v){return o.resolve(s()).then(function(){throw v})})},_.prototype.catch=function(s){return this.then(null,s)},_.prototype.then=function(s,o){if(typeof s!="function"&&this.state===y||typeof o!="function"&&this.state===u)return this;var v=new this.constructor(c);return this.state!==w?i(v,this.state===y?s:o,this.outcome):this.queue.push(new g(v,s,o)),v},g.prototype.callFulfilled=function(s){a.resolve(this.promise,s)},g.prototype.otherCallFulfilled=function(s){i(this.promise,this.onFulfilled,s)},g.prototype.callRejected=function(s){a.reject(this.promise,s)},g.prototype.otherCallRejected=function(s){i(this.promise,this.onRejected,s)},a.resolve=function(s,o){var v=l(n,o);if(v.status==="error")return a.reject(s,v.value);var x=v.value;if(x)e(s,x);else{s.state=y,s.outcome=o;for(var k=-1,F=s.queue.length;++k<F;)s.queue[k].callFulfilled(o)}return s},a.reject=function(s,o){s.state=u,s.outcome=o;for(var v=-1,x=s.queue.length;++v<x;)s.queue[v].callRejected(o);return s},_.resolve=function(s){return s instanceof this?s:a.resolve(new this(c),s)},_.reject=function(s){var o=new this(c);return a.reject(o,s)},_.all=function(s){var o=this;if(Object.prototype.toString.call(s)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=s.length,x=!1;if(!v)return this.resolve([]);for(var k=new Array(v),F=0,C=-1,P=new this(c);++C<v;)z(s[C],C);return P;function z(N,Q){o.resolve(N).then(function(h){k[Q]=h,++F!==v||x||(x=!0,a.resolve(P,k))},function(h){x||(x=!0,a.reject(P,h))})}},_.race=function(s){var o=this;if(Object.prototype.toString.call(s)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=s.length,x=!1;if(!v)return this.resolve([]);for(var k=-1,F=new this(c);++k<v;)C=s[k],o.resolve(C).then(function(P){x||(x=!0,a.resolve(F,P))},function(P){x||(x=!0,a.reject(F,P))});var C;return F}},{immediate:36}],38:[function(m,A,b){var d={};(0,m("./lib/utils/common").assign)(d,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),A.exports=d},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,A,b){var d=m("./zlib/deflate"),c=m("./utils/common"),a=m("./utils/strings"),u=m("./zlib/messages"),y=m("./zlib/zstream"),w=Object.prototype.toString,_=0,g=-1,i=0,n=8;function e(s){if(!(this instanceof e))return new e(s);this.options=c.assign({level:g,method:n,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},s||{});var o=this.options;o.raw&&0<o.windowBits?o.windowBits=-o.windowBits:o.gzip&&0<o.windowBits&&o.windowBits<16&&(o.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var v=d.deflateInit2(this.strm,o.level,o.method,o.windowBits,o.memLevel,o.strategy);if(v!==_)throw new Error(u[v]);if(o.header&&d.deflateSetHeader(this.strm,o.header),o.dictionary){var x;if(x=typeof o.dictionary=="string"?a.string2buf(o.dictionary):w.call(o.dictionary)==="[object ArrayBuffer]"?new Uint8Array(o.dictionary):o.dictionary,(v=d.deflateSetDictionary(this.strm,x))!==_)throw new Error(u[v]);this._dict_set=!0}}function l(s,o){var v=new e(o);if(v.push(s,!0),v.err)throw v.msg||u[v.err];return v.result}e.prototype.push=function(s,o){var v,x,k=this.strm,F=this.options.chunkSize;if(this.ended)return!1;x=o===~~o?o:o===!0?4:0,typeof s=="string"?k.input=a.string2buf(s):w.call(s)==="[object ArrayBuffer]"?k.input=new Uint8Array(s):k.input=s,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new c.Buf8(F),k.next_out=0,k.avail_out=F),(v=d.deflate(k,x))!==1&&v!==_)return this.onEnd(v),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(c.shrinkBuf(k.output,k.next_out))):this.onData(c.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&v!==1);return x===4?(v=d.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===_):x!==2||(this.onEnd(_),!(k.avail_out=0))},e.prototype.onData=function(s){this.chunks.push(s)},e.prototype.onEnd=function(s){s===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},b.Deflate=e,b.deflate=l,b.deflateRaw=function(s,o){return(o=o||{}).raw=!0,l(s,o)},b.gzip=function(s,o){return(o=o||{}).gzip=!0,l(s,o)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,A,b){var d=m("./zlib/inflate"),c=m("./utils/common"),a=m("./utils/strings"),u=m("./zlib/constants"),y=m("./zlib/messages"),w=m("./zlib/zstream"),_=m("./zlib/gzheader"),g=Object.prototype.toString;function i(e){if(!(this instanceof i))return new i(e);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},e||{});var l=this.options;l.raw&&0<=l.windowBits&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(0<=l.windowBits&&l.windowBits<16)||e&&e.windowBits||(l.windowBits+=32),15<l.windowBits&&l.windowBits<48&&(15&l.windowBits)==0&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var s=d.inflateInit2(this.strm,l.windowBits);if(s!==u.Z_OK)throw new Error(y[s]);this.header=new _,d.inflateGetHeader(this.strm,this.header)}function n(e,l){var s=new i(l);if(s.push(e,!0),s.err)throw s.msg||y[s.err];return s.result}i.prototype.push=function(e,l){var s,o,v,x,k,F,C=this.strm,P=this.options.chunkSize,z=this.options.dictionary,N=!1;if(this.ended)return!1;o=l===~~l?l:l===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof e=="string"?C.input=a.binstring2buf(e):g.call(e)==="[object ArrayBuffer]"?C.input=new Uint8Array(e):C.input=e,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new c.Buf8(P),C.next_out=0,C.avail_out=P),(s=d.inflate(C,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&z&&(F=typeof z=="string"?a.string2buf(z):g.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,s=d.inflateSetDictionary(this.strm,F)),s===u.Z_BUF_ERROR&&N===!0&&(s=u.Z_OK,N=!1),s!==u.Z_STREAM_END&&s!==u.Z_OK)return this.onEnd(s),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&s!==u.Z_STREAM_END&&(C.avail_in!==0||o!==u.Z_FINISH&&o!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=a.utf8border(C.output,C.next_out),x=C.next_out-v,k=a.buf2string(C.output,v),C.next_out=x,C.avail_out=P-x,x&&c.arraySet(C.output,C.output,v,x,0),this.onData(k)):this.onData(c.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(N=!0)}while((0<C.avail_in||C.avail_out===0)&&s!==u.Z_STREAM_END);return s===u.Z_STREAM_END&&(o=u.Z_FINISH),o===u.Z_FINISH?(s=d.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===u.Z_OK):o!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(C.avail_out=0))},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},b.Inflate=i,b.inflate=n,b.inflateRaw=function(e,l){return(l=l||{}).raw=!0,n(e,l)},b.ungzip=n},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,A,b){var d=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(u){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var w=y.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var _ in w)w.hasOwnProperty(_)&&(u[_]=w[_])}}return u},b.shrinkBuf=function(u,y){return u.length===y?u:u.subarray?u.subarray(0,y):(u.length=y,u)};var c={arraySet:function(u,y,w,_,g){if(y.subarray&&u.subarray)u.set(y.subarray(w,w+_),g);else for(var i=0;i<_;i++)u[g+i]=y[w+i]},flattenChunks:function(u){var y,w,_,g,i,n;for(y=_=0,w=u.length;y<w;y++)_+=u[y].length;for(n=new Uint8Array(_),y=g=0,w=u.length;y<w;y++)i=u[y],n.set(i,g),g+=i.length;return n}},a={arraySet:function(u,y,w,_,g){for(var i=0;i<_;i++)u[g+i]=y[w+i]},flattenChunks:function(u){return[].concat.apply([],u)}};b.setTyped=function(u){u?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,c)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,a))},b.setTyped(d)},{}],42:[function(m,A,b){var d=m("./common"),c=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new d.Buf8(256),y=0;y<256;y++)u[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function w(_,g){if(g<65537&&(_.subarray&&a||!_.subarray&&c))return String.fromCharCode.apply(null,d.shrinkBuf(_,g));for(var i="",n=0;n<g;n++)i+=String.fromCharCode(_[n]);return i}u[254]=u[254]=1,b.string2buf=function(_){var g,i,n,e,l,s=_.length,o=0;for(e=0;e<s;e++)(64512&(i=_.charCodeAt(e)))==55296&&e+1<s&&(64512&(n=_.charCodeAt(e+1)))==56320&&(i=65536+(i-55296<<10)+(n-56320),e++),o+=i<128?1:i<2048?2:i<65536?3:4;for(g=new d.Buf8(o),e=l=0;l<o;e++)(64512&(i=_.charCodeAt(e)))==55296&&e+1<s&&(64512&(n=_.charCodeAt(e+1)))==56320&&(i=65536+(i-55296<<10)+(n-56320),e++),i<128?g[l++]=i:(i<2048?g[l++]=192|i>>>6:(i<65536?g[l++]=224|i>>>12:(g[l++]=240|i>>>18,g[l++]=128|i>>>12&63),g[l++]=128|i>>>6&63),g[l++]=128|63&i);return g},b.buf2binstring=function(_){return w(_,_.length)},b.binstring2buf=function(_){for(var g=new d.Buf8(_.length),i=0,n=g.length;i<n;i++)g[i]=_.charCodeAt(i);return g},b.buf2string=function(_,g){var i,n,e,l,s=g||_.length,o=new Array(2*s);for(i=n=0;i<s;)if((e=_[i++])<128)o[n++]=e;else if(4<(l=u[e]))o[n++]=65533,i+=l-1;else{for(e&=l===2?31:l===3?15:7;1<l&&i<s;)e=e<<6|63&_[i++],l--;1<l?o[n++]=65533:e<65536?o[n++]=e:(e-=65536,o[n++]=55296|e>>10&1023,o[n++]=56320|1023&e)}return w(o,n)},b.utf8border=function(_,g){var i;for((g=g||_.length)>_.length&&(g=_.length),i=g-1;0<=i&&(192&_[i])==128;)i--;return i<0||i===0?g:i+u[_[i]]>g?i:g}},{"./common":41}],43:[function(m,A,b){A.exports=function(d,c,a,u){for(var y=65535&d|0,w=d>>>16&65535|0,_=0;a!==0;){for(a-=_=2e3<a?2e3:a;w=w+(y=y+c[u++]|0)|0,--_;);y%=65521,w%=65521}return y|w<<16|0}},{}],44:[function(m,A,b){A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,A,b){var d=(function(){for(var c,a=[],u=0;u<256;u++){c=u;for(var y=0;y<8;y++)c=1&c?3988292384^c>>>1:c>>>1;a[u]=c}return a})();A.exports=function(c,a,u,y){var w=d,_=y+u;c^=-1;for(var g=y;g<_;g++)c=c>>>8^w[255&(c^a[g])];return-1^c}},{}],46:[function(m,A,b){var d,c=m("../utils/common"),a=m("./trees"),u=m("./adler32"),y=m("./crc32"),w=m("./messages"),_=0,g=4,i=0,n=-2,e=-1,l=4,s=2,o=8,v=9,x=286,k=30,F=19,C=2*x+1,P=15,z=3,N=258,Q=N+z+1,h=42,O=113,r=1,T=2,K=3,q=4;function rt(t,D){return t.msg=w[D],D}function Z(t){return(t<<1)-(4<t?9:0)}function J(t){for(var D=t.length;0<=--D;)t[D]=0}function B(t){var D=t.state,R=D.pending;R>t.avail_out&&(R=t.avail_out),R!==0&&(c.arraySet(t.output,D.pending_buf,D.pending_out,R,t.next_out),t.next_out+=R,D.pending_out+=R,t.total_out+=R,t.avail_out-=R,D.pending-=R,D.pending===0&&(D.pending_out=0))}function I(t,D){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,D),t.block_start=t.strstart,B(t.strm)}function Y(t,D){t.pending_buf[t.pending++]=D}function $(t,D){t.pending_buf[t.pending++]=D>>>8&255,t.pending_buf[t.pending++]=255&D}function H(t,D){var R,p,f=t.max_chain_length,S=t.strstart,L=t.prev_length,j=t.nice_match,E=t.strstart>t.w_size-Q?t.strstart-(t.w_size-Q):0,M=t.window,V=t.w_mask,G=t.prev,X=t.strstart+N,ct=M[S+L-1],ot=M[S+L];t.prev_length>=t.good_match&&(f>>=2),j>t.lookahead&&(j=t.lookahead);do if(M[(R=D)+L]===ot&&M[R+L-1]===ct&&M[R]===M[S]&&M[++R]===M[S+1]){S+=2,R++;do;while(M[++S]===M[++R]&&M[++S]===M[++R]&&M[++S]===M[++R]&&M[++S]===M[++R]&&M[++S]===M[++R]&&M[++S]===M[++R]&&M[++S]===M[++R]&&M[++S]===M[++R]&&S<X);if(p=N-(X-S),S=X-N,L<p){if(t.match_start=D,j<=(L=p))break;ct=M[S+L-1],ot=M[S+L]}}while((D=G[D&V])>E&&--f!=0);return L<=t.lookahead?L:t.lookahead}function ht(t){var D,R,p,f,S,L,j,E,M,V,G=t.w_size;do{if(f=t.window_size-t.lookahead-t.strstart,t.strstart>=G+(G-Q)){for(c.arraySet(t.window,t.window,G,G,0),t.match_start-=G,t.strstart-=G,t.block_start-=G,D=R=t.hash_size;p=t.head[--D],t.head[D]=G<=p?p-G:0,--R;);for(D=R=G;p=t.prev[--D],t.prev[D]=G<=p?p-G:0,--R;);f+=G}if(t.strm.avail_in===0)break;if(L=t.strm,j=t.window,E=t.strstart+t.lookahead,M=f,V=void 0,V=L.avail_in,M<V&&(V=M),R=V===0?0:(L.avail_in-=V,c.arraySet(j,L.input,L.next_in,V,E),L.state.wrap===1?L.adler=u(L.adler,j,V,E):L.state.wrap===2&&(L.adler=y(L.adler,j,V,E)),L.next_in+=V,L.total_in+=V,V),t.lookahead+=R,t.lookahead+t.insert>=z)for(S=t.strstart-t.insert,t.ins_h=t.window[S],t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[S+z-1])&t.hash_mask,t.prev[S&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=S,S++,t.insert--,!(t.lookahead+t.insert<z)););}while(t.lookahead<Q&&t.strm.avail_in!==0)}function _t(t,D){for(var R,p;;){if(t.lookahead<Q){if(ht(t),t.lookahead<Q&&D===_)return r;if(t.lookahead===0)break}if(R=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,R=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),R!==0&&t.strstart-R<=t.w_size-Q&&(t.match_length=H(t,R)),t.match_length>=z)if(p=a._tr_tally(t,t.strstart-t.match_start,t.match_length-z),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=z){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,R=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else p=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(p&&(I(t,!1),t.strm.avail_out===0))return r}return t.insert=t.strstart<z-1?t.strstart:z-1,D===g?(I(t,!0),t.strm.avail_out===0?K:q):t.last_lit&&(I(t,!1),t.strm.avail_out===0)?r:T}function nt(t,D){for(var R,p,f;;){if(t.lookahead<Q){if(ht(t),t.lookahead<Q&&D===_)return r;if(t.lookahead===0)break}if(R=0,t.lookahead>=z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,R=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=z-1,R!==0&&t.prev_length<t.max_lazy_match&&t.strstart-R<=t.w_size-Q&&(t.match_length=H(t,R),t.match_length<=5&&(t.strategy===1||t.match_length===z&&4096<t.strstart-t.match_start)&&(t.match_length=z-1)),t.prev_length>=z&&t.match_length<=t.prev_length){for(f=t.strstart+t.lookahead-z,p=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-z),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=f&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+z-1])&t.hash_mask,R=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=z-1,t.strstart++,p&&(I(t,!1),t.strm.avail_out===0))return r}else if(t.match_available){if((p=a._tr_tally(t,0,t.window[t.strstart-1]))&&I(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return r}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(p=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<z-1?t.strstart:z-1,D===g?(I(t,!0),t.strm.avail_out===0?K:q):t.last_lit&&(I(t,!1),t.strm.avail_out===0)?r:T}function W(t,D,R,p,f){this.good_length=t,this.max_lazy=D,this.nice_length=R,this.max_chain=p,this.func=f}function tt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=o,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*C),this.dyn_dtree=new c.Buf16(2*(2*k+1)),this.bl_tree=new c.Buf16(2*(2*F+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(P+1),this.heap=new c.Buf16(2*x+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*x+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function it(t){var D;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=s,(D=t.state).pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?h:O,t.adler=D.wrap===2?0:1,D.last_flush=_,a._tr_init(D),i):rt(t,n)}function mt(t){var D=it(t);return D===i&&(function(R){R.window_size=2*R.w_size,J(R.head),R.max_lazy_match=d[R.level].max_lazy,R.good_match=d[R.level].good_length,R.nice_match=d[R.level].nice_length,R.max_chain_length=d[R.level].max_chain,R.strstart=0,R.block_start=0,R.lookahead=0,R.insert=0,R.match_length=R.prev_length=z-1,R.match_available=0,R.ins_h=0})(t.state),D}function dt(t,D,R,p,f,S){if(!t)return n;var L=1;if(D===e&&(D=6),p<0?(L=0,p=-p):15<p&&(L=2,p-=16),f<1||v<f||R!==o||p<8||15<p||D<0||9<D||S<0||l<S)return rt(t,n);p===8&&(p=9);var j=new tt;return(t.state=j).strm=t,j.wrap=L,j.gzhead=null,j.w_bits=p,j.w_size=1<<j.w_bits,j.w_mask=j.w_size-1,j.hash_bits=f+7,j.hash_size=1<<j.hash_bits,j.hash_mask=j.hash_size-1,j.hash_shift=~~((j.hash_bits+z-1)/z),j.window=new c.Buf8(2*j.w_size),j.head=new c.Buf16(j.hash_size),j.prev=new c.Buf16(j.w_size),j.lit_bufsize=1<<f+6,j.pending_buf_size=4*j.lit_bufsize,j.pending_buf=new c.Buf8(j.pending_buf_size),j.d_buf=1*j.lit_bufsize,j.l_buf=3*j.lit_bufsize,j.level=D,j.strategy=S,j.method=R,mt(t)}d=[new W(0,0,0,0,function(t,D){var R=65535;for(R>t.pending_buf_size-5&&(R=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ht(t),t.lookahead===0&&D===_)return r;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var p=t.block_start+R;if((t.strstart===0||t.strstart>=p)&&(t.lookahead=t.strstart-p,t.strstart=p,I(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-Q&&(I(t,!1),t.strm.avail_out===0))return r}return t.insert=0,D===g?(I(t,!0),t.strm.avail_out===0?K:q):(t.strstart>t.block_start&&(I(t,!1),t.strm.avail_out),r)}),new W(4,4,8,4,_t),new W(4,5,16,8,_t),new W(4,6,32,32,_t),new W(4,4,16,16,nt),new W(8,16,32,32,nt),new W(8,16,128,128,nt),new W(8,32,128,256,nt),new W(32,128,258,1024,nt),new W(32,258,258,4096,nt)],b.deflateInit=function(t,D){return dt(t,D,o,15,8,0)},b.deflateInit2=dt,b.deflateReset=mt,b.deflateResetKeep=it,b.deflateSetHeader=function(t,D){return t&&t.state?t.state.wrap!==2?n:(t.state.gzhead=D,i):n},b.deflate=function(t,D){var R,p,f,S;if(!t||!t.state||5<D||D<0)return t?rt(t,n):n;if(p=t.state,!t.output||!t.input&&t.avail_in!==0||p.status===666&&D!==g)return rt(t,t.avail_out===0?-5:n);if(p.strm=t,R=p.last_flush,p.last_flush=D,p.status===h)if(p.wrap===2)t.adler=0,Y(p,31),Y(p,139),Y(p,8),p.gzhead?(Y(p,(p.gzhead.text?1:0)+(p.gzhead.hcrc?2:0)+(p.gzhead.extra?4:0)+(p.gzhead.name?8:0)+(p.gzhead.comment?16:0)),Y(p,255&p.gzhead.time),Y(p,p.gzhead.time>>8&255),Y(p,p.gzhead.time>>16&255),Y(p,p.gzhead.time>>24&255),Y(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),Y(p,255&p.gzhead.os),p.gzhead.extra&&p.gzhead.extra.length&&(Y(p,255&p.gzhead.extra.length),Y(p,p.gzhead.extra.length>>8&255)),p.gzhead.hcrc&&(t.adler=y(t.adler,p.pending_buf,p.pending,0)),p.gzindex=0,p.status=69):(Y(p,0),Y(p,0),Y(p,0),Y(p,0),Y(p,0),Y(p,p.level===9?2:2<=p.strategy||p.level<2?4:0),Y(p,3),p.status=O);else{var L=o+(p.w_bits-8<<4)<<8;L|=(2<=p.strategy||p.level<2?0:p.level<6?1:p.level===6?2:3)<<6,p.strstart!==0&&(L|=32),L+=31-L%31,p.status=O,$(p,L),p.strstart!==0&&($(p,t.adler>>>16),$(p,65535&t.adler)),t.adler=1}if(p.status===69)if(p.gzhead.extra){for(f=p.pending;p.gzindex<(65535&p.gzhead.extra.length)&&(p.pending!==p.pending_buf_size||(p.gzhead.hcrc&&p.pending>f&&(t.adler=y(t.adler,p.pending_buf,p.pending-f,f)),B(t),f=p.pending,p.pending!==p.pending_buf_size));)Y(p,255&p.gzhead.extra[p.gzindex]),p.gzindex++;p.gzhead.hcrc&&p.pending>f&&(t.adler=y(t.adler,p.pending_buf,p.pending-f,f)),p.gzindex===p.gzhead.extra.length&&(p.gzindex=0,p.status=73)}else p.status=73;if(p.status===73)if(p.gzhead.name){f=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>f&&(t.adler=y(t.adler,p.pending_buf,p.pending-f,f)),B(t),f=p.pending,p.pending===p.pending_buf_size)){S=1;break}S=p.gzindex<p.gzhead.name.length?255&p.gzhead.name.charCodeAt(p.gzindex++):0,Y(p,S)}while(S!==0);p.gzhead.hcrc&&p.pending>f&&(t.adler=y(t.adler,p.pending_buf,p.pending-f,f)),S===0&&(p.gzindex=0,p.status=91)}else p.status=91;if(p.status===91)if(p.gzhead.comment){f=p.pending;do{if(p.pending===p.pending_buf_size&&(p.gzhead.hcrc&&p.pending>f&&(t.adler=y(t.adler,p.pending_buf,p.pending-f,f)),B(t),f=p.pending,p.pending===p.pending_buf_size)){S=1;break}S=p.gzindex<p.gzhead.comment.length?255&p.gzhead.comment.charCodeAt(p.gzindex++):0,Y(p,S)}while(S!==0);p.gzhead.hcrc&&p.pending>f&&(t.adler=y(t.adler,p.pending_buf,p.pending-f,f)),S===0&&(p.status=103)}else p.status=103;if(p.status===103&&(p.gzhead.hcrc?(p.pending+2>p.pending_buf_size&&B(t),p.pending+2<=p.pending_buf_size&&(Y(p,255&t.adler),Y(p,t.adler>>8&255),t.adler=0,p.status=O)):p.status=O),p.pending!==0){if(B(t),t.avail_out===0)return p.last_flush=-1,i}else if(t.avail_in===0&&Z(D)<=Z(R)&&D!==g)return rt(t,-5);if(p.status===666&&t.avail_in!==0)return rt(t,-5);if(t.avail_in!==0||p.lookahead!==0||D!==_&&p.status!==666){var j=p.strategy===2?(function(E,M){for(var V;;){if(E.lookahead===0&&(ht(E),E.lookahead===0)){if(M===_)return r;break}if(E.match_length=0,V=a._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++,V&&(I(E,!1),E.strm.avail_out===0))return r}return E.insert=0,M===g?(I(E,!0),E.strm.avail_out===0?K:q):E.last_lit&&(I(E,!1),E.strm.avail_out===0)?r:T})(p,D):p.strategy===3?(function(E,M){for(var V,G,X,ct,ot=E.window;;){if(E.lookahead<=N){if(ht(E),E.lookahead<=N&&M===_)return r;if(E.lookahead===0)break}if(E.match_length=0,E.lookahead>=z&&0<E.strstart&&(G=ot[X=E.strstart-1])===ot[++X]&&G===ot[++X]&&G===ot[++X]){ct=E.strstart+N;do;while(G===ot[++X]&&G===ot[++X]&&G===ot[++X]&&G===ot[++X]&&G===ot[++X]&&G===ot[++X]&&G===ot[++X]&&G===ot[++X]&&X<ct);E.match_length=N-(ct-X),E.match_length>E.lookahead&&(E.match_length=E.lookahead)}if(E.match_length>=z?(V=a._tr_tally(E,1,E.match_length-z),E.lookahead-=E.match_length,E.strstart+=E.match_length,E.match_length=0):(V=a._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++),V&&(I(E,!1),E.strm.avail_out===0))return r}return E.insert=0,M===g?(I(E,!0),E.strm.avail_out===0?K:q):E.last_lit&&(I(E,!1),E.strm.avail_out===0)?r:T})(p,D):d[p.level].func(p,D);if(j!==K&&j!==q||(p.status=666),j===r||j===K)return t.avail_out===0&&(p.last_flush=-1),i;if(j===T&&(D===1?a._tr_align(p):D!==5&&(a._tr_stored_block(p,0,0,!1),D===3&&(J(p.head),p.lookahead===0&&(p.strstart=0,p.block_start=0,p.insert=0))),B(t),t.avail_out===0))return p.last_flush=-1,i}return D!==g?i:p.wrap<=0?1:(p.wrap===2?(Y(p,255&t.adler),Y(p,t.adler>>8&255),Y(p,t.adler>>16&255),Y(p,t.adler>>24&255),Y(p,255&t.total_in),Y(p,t.total_in>>8&255),Y(p,t.total_in>>16&255),Y(p,t.total_in>>24&255)):($(p,t.adler>>>16),$(p,65535&t.adler)),B(t),0<p.wrap&&(p.wrap=-p.wrap),p.pending!==0?i:1)},b.deflateEnd=function(t){var D;return t&&t.state?(D=t.state.status)!==h&&D!==69&&D!==73&&D!==91&&D!==103&&D!==O&&D!==666?rt(t,n):(t.state=null,D===O?rt(t,-3):i):n},b.deflateSetDictionary=function(t,D){var R,p,f,S,L,j,E,M,V=D.length;if(!t||!t.state||(S=(R=t.state).wrap)===2||S===1&&R.status!==h||R.lookahead)return n;for(S===1&&(t.adler=u(t.adler,D,V,0)),R.wrap=0,V>=R.w_size&&(S===0&&(J(R.head),R.strstart=0,R.block_start=0,R.insert=0),M=new c.Buf8(R.w_size),c.arraySet(M,D,V-R.w_size,R.w_size,0),D=M,V=R.w_size),L=t.avail_in,j=t.next_in,E=t.input,t.avail_in=V,t.next_in=0,t.input=D,ht(R);R.lookahead>=z;){for(p=R.strstart,f=R.lookahead-(z-1);R.ins_h=(R.ins_h<<R.hash_shift^R.window[p+z-1])&R.hash_mask,R.prev[p&R.w_mask]=R.head[R.ins_h],R.head[R.ins_h]=p,p++,--f;);R.strstart=p,R.lookahead=z-1,ht(R)}return R.strstart+=R.lookahead,R.block_start=R.strstart,R.insert=R.lookahead,R.lookahead=0,R.match_length=R.prev_length=z-1,R.match_available=0,t.next_in=j,t.input=E,t.avail_in=L,R.wrap=S,i},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,A,b){A.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,A,b){A.exports=function(d,c){var a,u,y,w,_,g,i,n,e,l,s,o,v,x,k,F,C,P,z,N,Q,h,O,r,T;a=d.state,u=d.next_in,r=d.input,y=u+(d.avail_in-5),w=d.next_out,T=d.output,_=w-(c-d.avail_out),g=w+(d.avail_out-257),i=a.dmax,n=a.wsize,e=a.whave,l=a.wnext,s=a.window,o=a.hold,v=a.bits,x=a.lencode,k=a.distcode,F=(1<<a.lenbits)-1,C=(1<<a.distbits)-1;t:do{v<15&&(o+=r[u++]<<v,v+=8,o+=r[u++]<<v,v+=8),P=x[o&F];e:for(;;){if(o>>>=z=P>>>24,v-=z,(z=P>>>16&255)===0)T[w++]=65535&P;else{if(!(16&z)){if((64&z)==0){P=x[(65535&P)+(o&(1<<z)-1)];continue e}if(32&z){a.mode=12;break t}d.msg="invalid literal/length code",a.mode=30;break t}N=65535&P,(z&=15)&&(v<z&&(o+=r[u++]<<v,v+=8),N+=o&(1<<z)-1,o>>>=z,v-=z),v<15&&(o+=r[u++]<<v,v+=8,o+=r[u++]<<v,v+=8),P=k[o&C];r:for(;;){if(o>>>=z=P>>>24,v-=z,!(16&(z=P>>>16&255))){if((64&z)==0){P=k[(65535&P)+(o&(1<<z)-1)];continue r}d.msg="invalid distance code",a.mode=30;break t}if(Q=65535&P,v<(z&=15)&&(o+=r[u++]<<v,(v+=8)<z&&(o+=r[u++]<<v,v+=8)),i<(Q+=o&(1<<z)-1)){d.msg="invalid distance too far back",a.mode=30;break t}if(o>>>=z,v-=z,(z=w-_)<Q){if(e<(z=Q-z)&&a.sane){d.msg="invalid distance too far back",a.mode=30;break t}if(O=s,(h=0)===l){if(h+=n-z,z<N){for(N-=z;T[w++]=s[h++],--z;);h=w-Q,O=T}}else if(l<z){if(h+=n+l-z,(z-=l)<N){for(N-=z;T[w++]=s[h++],--z;);if(h=0,l<N){for(N-=z=l;T[w++]=s[h++],--z;);h=w-Q,O=T}}}else if(h+=l-z,z<N){for(N-=z;T[w++]=s[h++],--z;);h=w-Q,O=T}for(;2<N;)T[w++]=O[h++],T[w++]=O[h++],T[w++]=O[h++],N-=3;N&&(T[w++]=O[h++],1<N&&(T[w++]=O[h++]))}else{for(h=w-Q;T[w++]=T[h++],T[w++]=T[h++],T[w++]=T[h++],2<(N-=3););N&&(T[w++]=T[h++],1<N&&(T[w++]=T[h++]))}break}}break}}while(u<y&&w<g);u-=N=v>>3,o&=(1<<(v-=N<<3))-1,d.next_in=u,d.next_out=w,d.avail_in=u<y?y-u+5:5-(u-y),d.avail_out=w<g?g-w+257:257-(w-g),a.hold=o,a.bits=v}},{}],49:[function(m,A,b){var d=m("../utils/common"),c=m("./adler32"),a=m("./crc32"),u=m("./inffast"),y=m("./inftrees"),w=1,_=2,g=0,i=-2,n=1,e=852,l=592;function s(h){return(h>>>24&255)+(h>>>8&65280)+((65280&h)<<8)+((255&h)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(h){var O;return h&&h.state?(O=h.state,h.total_in=h.total_out=O.total=0,h.msg="",O.wrap&&(h.adler=1&O.wrap),O.mode=n,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new d.Buf32(e),O.distcode=O.distdyn=new d.Buf32(l),O.sane=1,O.back=-1,g):i}function x(h){var O;return h&&h.state?((O=h.state).wsize=0,O.whave=0,O.wnext=0,v(h)):i}function k(h,O){var r,T;return h&&h.state?(T=h.state,O<0?(r=0,O=-O):(r=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?i:(T.window!==null&&T.wbits!==O&&(T.window=null),T.wrap=r,T.wbits=O,x(h))):i}function F(h,O){var r,T;return h?(T=new o,(h.state=T).window=null,(r=k(h,O))!==g&&(h.state=null),r):i}var C,P,z=!0;function N(h){if(z){var O;for(C=new d.Buf32(512),P=new d.Buf32(32),O=0;O<144;)h.lens[O++]=8;for(;O<256;)h.lens[O++]=9;for(;O<280;)h.lens[O++]=7;for(;O<288;)h.lens[O++]=8;for(y(w,h.lens,0,288,C,0,h.work,{bits:9}),O=0;O<32;)h.lens[O++]=5;y(_,h.lens,0,32,P,0,h.work,{bits:5}),z=!1}h.lencode=C,h.lenbits=9,h.distcode=P,h.distbits=5}function Q(h,O,r,T){var K,q=h.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new d.Buf8(q.wsize)),T>=q.wsize?(d.arraySet(q.window,O,r-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(T<(K=q.wsize-q.wnext)&&(K=T),d.arraySet(q.window,O,r-T,K,q.wnext),(T-=K)?(d.arraySet(q.window,O,r-T,T,0),q.wnext=T,q.whave=q.wsize):(q.wnext+=K,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=K))),0}b.inflateReset=x,b.inflateReset2=k,b.inflateResetKeep=v,b.inflateInit=function(h){return F(h,15)},b.inflateInit2=F,b.inflate=function(h,O){var r,T,K,q,rt,Z,J,B,I,Y,$,H,ht,_t,nt,W,tt,it,mt,dt,t,D,R,p,f=0,S=new d.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&h.avail_in!==0)return i;(r=h.state).mode===12&&(r.mode=13),rt=h.next_out,K=h.output,J=h.avail_out,q=h.next_in,T=h.input,Z=h.avail_in,B=r.hold,I=r.bits,Y=Z,$=J,D=g;t:for(;;)switch(r.mode){case n:if(r.wrap===0){r.mode=13;break}for(;I<16;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(2&r.wrap&&B===35615){S[r.check=0]=255&B,S[1]=B>>>8&255,r.check=a(r.check,S,2,0),I=B=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&B)<<8)+(B>>8))%31){h.msg="incorrect header check",r.mode=30;break}if((15&B)!=8){h.msg="unknown compression method",r.mode=30;break}if(I-=4,t=8+(15&(B>>>=4)),r.wbits===0)r.wbits=t;else if(t>r.wbits){h.msg="invalid window size",r.mode=30;break}r.dmax=1<<t,h.adler=r.check=1,r.mode=512&B?10:12,I=B=0;break;case 2:for(;I<16;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(r.flags=B,(255&r.flags)!=8){h.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){h.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=B>>8&1),512&r.flags&&(S[0]=255&B,S[1]=B>>>8&255,r.check=a(r.check,S,2,0)),I=B=0,r.mode=3;case 3:for(;I<32;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}r.head&&(r.head.time=B),512&r.flags&&(S[0]=255&B,S[1]=B>>>8&255,S[2]=B>>>16&255,S[3]=B>>>24&255,r.check=a(r.check,S,4,0)),I=B=0,r.mode=4;case 4:for(;I<16;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}r.head&&(r.head.xflags=255&B,r.head.os=B>>8),512&r.flags&&(S[0]=255&B,S[1]=B>>>8&255,r.check=a(r.check,S,2,0)),I=B=0,r.mode=5;case 5:if(1024&r.flags){for(;I<16;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}r.length=B,r.head&&(r.head.extra_len=B),512&r.flags&&(S[0]=255&B,S[1]=B>>>8&255,r.check=a(r.check,S,2,0)),I=B=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(Z<(H=r.length)&&(H=Z),H&&(r.head&&(t=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),d.arraySet(r.head.extra,T,q,H,t)),512&r.flags&&(r.check=a(r.check,T,H,q)),Z-=H,q+=H,r.length-=H),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(Z===0)break t;for(H=0;t=T[q+H++],r.head&&t&&r.length<65536&&(r.head.name+=String.fromCharCode(t)),t&&H<Z;);if(512&r.flags&&(r.check=a(r.check,T,H,q)),Z-=H,q+=H,t)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(Z===0)break t;for(H=0;t=T[q+H++],r.head&&t&&r.length<65536&&(r.head.comment+=String.fromCharCode(t)),t&&H<Z;);if(512&r.flags&&(r.check=a(r.check,T,H,q)),Z-=H,q+=H,t)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;I<16;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(B!==(65535&r.check)){h.msg="header crc mismatch",r.mode=30;break}I=B=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),h.adler=r.check=0,r.mode=12;break;case 10:for(;I<32;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}h.adler=r.check=s(B),I=B=0,r.mode=11;case 11:if(r.havedict===0)return h.next_out=rt,h.avail_out=J,h.next_in=q,h.avail_in=Z,r.hold=B,r.bits=I,2;h.adler=r.check=1,r.mode=12;case 12:if(O===5||O===6)break t;case 13:if(r.last){B>>>=7&I,I-=7&I,r.mode=27;break}for(;I<3;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}switch(r.last=1&B,I-=1,3&(B>>>=1)){case 0:r.mode=14;break;case 1:if(N(r),r.mode=20,O!==6)break;B>>>=2,I-=2;break t;case 2:r.mode=17;break;case 3:h.msg="invalid block type",r.mode=30}B>>>=2,I-=2;break;case 14:for(B>>>=7&I,I-=7&I;I<32;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if((65535&B)!=(B>>>16^65535)){h.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&B,I=B=0,r.mode=15,O===6)break t;case 15:r.mode=16;case 16:if(H=r.length){if(Z<H&&(H=Z),J<H&&(H=J),H===0)break t;d.arraySet(K,T,q,H,rt),Z-=H,q+=H,J-=H,rt+=H,r.length-=H;break}r.mode=12;break;case 17:for(;I<14;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(r.nlen=257+(31&B),B>>>=5,I-=5,r.ndist=1+(31&B),B>>>=5,I-=5,r.ncode=4+(15&B),B>>>=4,I-=4,286<r.nlen||30<r.ndist){h.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;I<3;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}r.lens[L[r.have++]]=7&B,B>>>=3,I-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,R={bits:r.lenbits},D=y(0,r.lens,0,19,r.lencode,0,r.work,R),r.lenbits=R.bits,D){h.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;W=(f=r.lencode[B&(1<<r.lenbits)-1])>>>16&255,tt=65535&f,!((nt=f>>>24)<=I);){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(tt<16)B>>>=nt,I-=nt,r.lens[r.have++]=tt;else{if(tt===16){for(p=nt+2;I<p;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(B>>>=nt,I-=nt,r.have===0){h.msg="invalid bit length repeat",r.mode=30;break}t=r.lens[r.have-1],H=3+(3&B),B>>>=2,I-=2}else if(tt===17){for(p=nt+3;I<p;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}I-=nt,t=0,H=3+(7&(B>>>=nt)),B>>>=3,I-=3}else{for(p=nt+7;I<p;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}I-=nt,t=0,H=11+(127&(B>>>=nt)),B>>>=7,I-=7}if(r.have+H>r.nlen+r.ndist){h.msg="invalid bit length repeat",r.mode=30;break}for(;H--;)r.lens[r.have++]=t}}if(r.mode===30)break;if(r.lens[256]===0){h.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,R={bits:r.lenbits},D=y(w,r.lens,0,r.nlen,r.lencode,0,r.work,R),r.lenbits=R.bits,D){h.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,R={bits:r.distbits},D=y(_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,R),r.distbits=R.bits,D){h.msg="invalid distances set",r.mode=30;break}if(r.mode=20,O===6)break t;case 20:r.mode=21;case 21:if(6<=Z&&258<=J){h.next_out=rt,h.avail_out=J,h.next_in=q,h.avail_in=Z,r.hold=B,r.bits=I,u(h,$),rt=h.next_out,K=h.output,J=h.avail_out,q=h.next_in,T=h.input,Z=h.avail_in,B=r.hold,I=r.bits,r.mode===12&&(r.back=-1);break}for(r.back=0;W=(f=r.lencode[B&(1<<r.lenbits)-1])>>>16&255,tt=65535&f,!((nt=f>>>24)<=I);){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(W&&(240&W)==0){for(it=nt,mt=W,dt=tt;W=(f=r.lencode[dt+((B&(1<<it+mt)-1)>>it)])>>>16&255,tt=65535&f,!(it+(nt=f>>>24)<=I);){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}B>>>=it,I-=it,r.back+=it}if(B>>>=nt,I-=nt,r.back+=nt,r.length=tt,W===0){r.mode=26;break}if(32&W){r.back=-1,r.mode=12;break}if(64&W){h.msg="invalid literal/length code",r.mode=30;break}r.extra=15&W,r.mode=22;case 22:if(r.extra){for(p=r.extra;I<p;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}r.length+=B&(1<<r.extra)-1,B>>>=r.extra,I-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;W=(f=r.distcode[B&(1<<r.distbits)-1])>>>16&255,tt=65535&f,!((nt=f>>>24)<=I);){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if((240&W)==0){for(it=nt,mt=W,dt=tt;W=(f=r.distcode[dt+((B&(1<<it+mt)-1)>>it)])>>>16&255,tt=65535&f,!(it+(nt=f>>>24)<=I);){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}B>>>=it,I-=it,r.back+=it}if(B>>>=nt,I-=nt,r.back+=nt,64&W){h.msg="invalid distance code",r.mode=30;break}r.offset=tt,r.extra=15&W,r.mode=24;case 24:if(r.extra){for(p=r.extra;I<p;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}r.offset+=B&(1<<r.extra)-1,B>>>=r.extra,I-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){h.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(J===0)break t;if(H=$-J,r.offset>H){if((H=r.offset-H)>r.whave&&r.sane){h.msg="invalid distance too far back",r.mode=30;break}ht=H>r.wnext?(H-=r.wnext,r.wsize-H):r.wnext-H,H>r.length&&(H=r.length),_t=r.window}else _t=K,ht=rt-r.offset,H=r.length;for(J<H&&(H=J),J-=H,r.length-=H;K[rt++]=_t[ht++],--H;);r.length===0&&(r.mode=21);break;case 26:if(J===0)break t;K[rt++]=r.length,J--,r.mode=21;break;case 27:if(r.wrap){for(;I<32;){if(Z===0)break t;Z--,B|=T[q++]<<I,I+=8}if($-=J,h.total_out+=$,r.total+=$,$&&(h.adler=r.check=r.flags?a(r.check,K,$,rt-$):c(r.check,K,$,rt-$)),$=J,(r.flags?B:s(B))!==r.check){h.msg="incorrect data check",r.mode=30;break}I=B=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;I<32;){if(Z===0)break t;Z--,B+=T[q++]<<I,I+=8}if(B!==(4294967295&r.total)){h.msg="incorrect length check",r.mode=30;break}I=B=0}r.mode=29;case 29:D=1;break t;case 30:D=-3;break t;case 31:return-4;case 32:default:return i}return h.next_out=rt,h.avail_out=J,h.next_in=q,h.avail_in=Z,r.hold=B,r.bits=I,(r.wsize||$!==h.avail_out&&r.mode<30&&(r.mode<27||O!==4))&&Q(h,h.output,h.next_out,$-h.avail_out)?(r.mode=31,-4):(Y-=h.avail_in,$-=h.avail_out,h.total_in+=Y,h.total_out+=$,r.total+=$,r.wrap&&$&&(h.adler=r.check=r.flags?a(r.check,K,$,h.next_out-$):c(r.check,K,$,h.next_out-$)),h.data_type=r.bits+(r.last?64:0)+(r.mode===12?128:0)+(r.mode===20||r.mode===15?256:0),(Y==0&&$===0||O===4)&&D===g&&(D=-5),D)},b.inflateEnd=function(h){if(!h||!h.state)return i;var O=h.state;return O.window&&(O.window=null),h.state=null,g},b.inflateGetHeader=function(h,O){var r;return h&&h.state?(2&(r=h.state).wrap)==0?i:((r.head=O).done=!1,g):i},b.inflateSetDictionary=function(h,O){var r,T=O.length;return h&&h.state?(r=h.state).wrap!==0&&r.mode!==11?i:r.mode===11&&c(1,O,T,0)!==r.check?-3:Q(h,O,T,T)?(r.mode=31,-4):(r.havedict=1,g):i},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,A,b){var d=m("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(w,_,g,i,n,e,l,s){var o,v,x,k,F,C,P,z,N,Q=s.bits,h=0,O=0,r=0,T=0,K=0,q=0,rt=0,Z=0,J=0,B=0,I=null,Y=0,$=new d.Buf16(16),H=new d.Buf16(16),ht=null,_t=0;for(h=0;h<=15;h++)$[h]=0;for(O=0;O<i;O++)$[_[g+O]]++;for(K=Q,T=15;1<=T&&$[T]===0;T--);if(T<K&&(K=T),T===0)return n[e++]=20971520,n[e++]=20971520,s.bits=1,0;for(r=1;r<T&&$[r]===0;r++);for(K<r&&(K=r),h=Z=1;h<=15;h++)if(Z<<=1,(Z-=$[h])<0)return-1;if(0<Z&&(w===0||T!==1))return-1;for(H[1]=0,h=1;h<15;h++)H[h+1]=H[h]+$[h];for(O=0;O<i;O++)_[g+O]!==0&&(l[H[_[g+O]]++]=O);if(C=w===0?(I=ht=l,19):w===1?(I=c,Y-=257,ht=a,_t-=257,256):(I=u,ht=y,-1),h=r,F=e,rt=O=B=0,x=-1,k=(J=1<<(q=K))-1,w===1&&852<J||w===2&&592<J)return 1;for(;;){for(P=h-rt,N=l[O]<C?(z=0,l[O]):l[O]>C?(z=ht[_t+l[O]],I[Y+l[O]]):(z=96,0),o=1<<h-rt,r=v=1<<q;n[F+(B>>rt)+(v-=o)]=P<<24|z<<16|N|0,v!==0;);for(o=1<<h-1;B&o;)o>>=1;if(o!==0?(B&=o-1,B+=o):B=0,O++,--$[h]==0){if(h===T)break;h=_[g+l[O]]}if(K<h&&(B&k)!==x){for(rt===0&&(rt=K),F+=r,Z=1<<(q=h-rt);q+rt<T&&!((Z-=$[q+rt])<=0);)q++,Z<<=1;if(J+=1<<q,w===1&&852<J||w===2&&592<J)return 1;n[x=B&k]=K<<24|q<<16|F-e|0}}return B!==0&&(n[F+B]=h-rt<<24|64<<16|0),s.bits=K,0}},{"../utils/common":41}],51:[function(m,A,b){A.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,A,b){var d=m("../utils/common"),c=0,a=1;function u(f){for(var S=f.length;0<=--S;)f[S]=0}var y=0,w=29,_=256,g=_+1+w,i=30,n=19,e=2*g+1,l=15,s=16,o=7,v=256,x=16,k=17,F=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(g+2));u(Q);var h=new Array(2*i);u(h);var O=new Array(512);u(O);var r=new Array(256);u(r);var T=new Array(w);u(T);var K,q,rt,Z=new Array(i);function J(f,S,L,j,E){this.static_tree=f,this.extra_bits=S,this.extra_base=L,this.elems=j,this.max_length=E,this.has_stree=f&&f.length}function B(f,S){this.dyn_tree=f,this.max_code=0,this.stat_desc=S}function I(f){return f<256?O[f]:O[256+(f>>>7)]}function Y(f,S){f.pending_buf[f.pending++]=255&S,f.pending_buf[f.pending++]=S>>>8&255}function $(f,S,L){f.bi_valid>s-L?(f.bi_buf|=S<<f.bi_valid&65535,Y(f,f.bi_buf),f.bi_buf=S>>s-f.bi_valid,f.bi_valid+=L-s):(f.bi_buf|=S<<f.bi_valid&65535,f.bi_valid+=L)}function H(f,S,L){$(f,L[2*S],L[2*S+1])}function ht(f,S){for(var L=0;L|=1&f,f>>>=1,L<<=1,0<--S;);return L>>>1}function _t(f,S,L){var j,E,M=new Array(l+1),V=0;for(j=1;j<=l;j++)M[j]=V=V+L[j-1]<<1;for(E=0;E<=S;E++){var G=f[2*E+1];G!==0&&(f[2*E]=ht(M[G]++,G))}}function nt(f){var S;for(S=0;S<g;S++)f.dyn_ltree[2*S]=0;for(S=0;S<i;S++)f.dyn_dtree[2*S]=0;for(S=0;S<n;S++)f.bl_tree[2*S]=0;f.dyn_ltree[2*v]=1,f.opt_len=f.static_len=0,f.last_lit=f.matches=0}function W(f){8<f.bi_valid?Y(f,f.bi_buf):0<f.bi_valid&&(f.pending_buf[f.pending++]=f.bi_buf),f.bi_buf=0,f.bi_valid=0}function tt(f,S,L,j){var E=2*S,M=2*L;return f[E]<f[M]||f[E]===f[M]&&j[S]<=j[L]}function it(f,S,L){for(var j=f.heap[L],E=L<<1;E<=f.heap_len&&(E<f.heap_len&&tt(S,f.heap[E+1],f.heap[E],f.depth)&&E++,!tt(S,j,f.heap[E],f.depth));)f.heap[L]=f.heap[E],L=E,E<<=1;f.heap[L]=j}function mt(f,S,L){var j,E,M,V,G=0;if(f.last_lit!==0)for(;j=f.pending_buf[f.d_buf+2*G]<<8|f.pending_buf[f.d_buf+2*G+1],E=f.pending_buf[f.l_buf+G],G++,j===0?H(f,E,S):(H(f,(M=r[E])+_+1,S),(V=C[M])!==0&&$(f,E-=T[M],V),H(f,M=I(--j),L),(V=P[M])!==0&&$(f,j-=Z[M],V)),G<f.last_lit;);H(f,v,S)}function dt(f,S){var L,j,E,M=S.dyn_tree,V=S.stat_desc.static_tree,G=S.stat_desc.has_stree,X=S.stat_desc.elems,ct=-1;for(f.heap_len=0,f.heap_max=e,L=0;L<X;L++)M[2*L]!==0?(f.heap[++f.heap_len]=ct=L,f.depth[L]=0):M[2*L+1]=0;for(;f.heap_len<2;)M[2*(E=f.heap[++f.heap_len]=ct<2?++ct:0)]=1,f.depth[E]=0,f.opt_len--,G&&(f.static_len-=V[2*E+1]);for(S.max_code=ct,L=f.heap_len>>1;1<=L;L--)it(f,M,L);for(E=X;L=f.heap[1],f.heap[1]=f.heap[f.heap_len--],it(f,M,1),j=f.heap[1],f.heap[--f.heap_max]=L,f.heap[--f.heap_max]=j,M[2*E]=M[2*L]+M[2*j],f.depth[E]=(f.depth[L]>=f.depth[j]?f.depth[L]:f.depth[j])+1,M[2*L+1]=M[2*j+1]=E,f.heap[1]=E++,it(f,M,1),2<=f.heap_len;);f.heap[--f.heap_max]=f.heap[1],(function(ot,gt){var It,yt,Ft,pt,Dt,Zt,kt=gt.dyn_tree,Kt=gt.max_code,he=gt.stat_desc.static_tree,pe=gt.stat_desc.has_stree,me=gt.stat_desc.extra_bits,Yt=gt.stat_desc.extra_base,Bt=gt.stat_desc.max_length,Nt=0;for(pt=0;pt<=l;pt++)ot.bl_count[pt]=0;for(kt[2*ot.heap[ot.heap_max]+1]=0,It=ot.heap_max+1;It<e;It++)Bt<(pt=kt[2*kt[2*(yt=ot.heap[It])+1]+1]+1)&&(pt=Bt,Nt++),kt[2*yt+1]=pt,Kt<yt||(ot.bl_count[pt]++,Dt=0,Yt<=yt&&(Dt=me[yt-Yt]),Zt=kt[2*yt],ot.opt_len+=Zt*(pt+Dt),pe&&(ot.static_len+=Zt*(he[2*yt+1]+Dt)));if(Nt!==0){do{for(pt=Bt-1;ot.bl_count[pt]===0;)pt--;ot.bl_count[pt]--,ot.bl_count[pt+1]+=2,ot.bl_count[Bt]--,Nt-=2}while(0<Nt);for(pt=Bt;pt!==0;pt--)for(yt=ot.bl_count[pt];yt!==0;)Kt<(Ft=ot.heap[--It])||(kt[2*Ft+1]!==pt&&(ot.opt_len+=(pt-kt[2*Ft+1])*kt[2*Ft],kt[2*Ft+1]=pt),yt--)}})(f,S),_t(M,ct,f.bl_count)}function t(f,S,L){var j,E,M=-1,V=S[1],G=0,X=7,ct=4;for(V===0&&(X=138,ct=3),S[2*(L+1)+1]=65535,j=0;j<=L;j++)E=V,V=S[2*(j+1)+1],++G<X&&E===V||(G<ct?f.bl_tree[2*E]+=G:E!==0?(E!==M&&f.bl_tree[2*E]++,f.bl_tree[2*x]++):G<=10?f.bl_tree[2*k]++:f.bl_tree[2*F]++,M=E,ct=(G=0)===V?(X=138,3):E===V?(X=6,3):(X=7,4))}function D(f,S,L){var j,E,M=-1,V=S[1],G=0,X=7,ct=4;for(V===0&&(X=138,ct=3),j=0;j<=L;j++)if(E=V,V=S[2*(j+1)+1],!(++G<X&&E===V)){if(G<ct)for(;H(f,E,f.bl_tree),--G!=0;);else E!==0?(E!==M&&(H(f,E,f.bl_tree),G--),H(f,x,f.bl_tree),$(f,G-3,2)):G<=10?(H(f,k,f.bl_tree),$(f,G-3,3)):(H(f,F,f.bl_tree),$(f,G-11,7));M=E,ct=(G=0)===V?(X=138,3):E===V?(X=6,3):(X=7,4)}}u(Z);var R=!1;function p(f,S,L,j){$(f,(y<<1)+(j?1:0),3),(function(E,M,V,G){W(E),Y(E,V),Y(E,~V),d.arraySet(E.pending_buf,E.window,M,V,E.pending),E.pending+=V})(f,S,L)}b._tr_init=function(f){R||((function(){var S,L,j,E,M,V=new Array(l+1);for(E=j=0;E<w-1;E++)for(T[E]=j,S=0;S<1<<C[E];S++)r[j++]=E;for(r[j-1]=E,E=M=0;E<16;E++)for(Z[E]=M,S=0;S<1<<P[E];S++)O[M++]=E;for(M>>=7;E<i;E++)for(Z[E]=M<<7,S=0;S<1<<P[E]-7;S++)O[256+M++]=E;for(L=0;L<=l;L++)V[L]=0;for(S=0;S<=143;)Q[2*S+1]=8,S++,V[8]++;for(;S<=255;)Q[2*S+1]=9,S++,V[9]++;for(;S<=279;)Q[2*S+1]=7,S++,V[7]++;for(;S<=287;)Q[2*S+1]=8,S++,V[8]++;for(_t(Q,g+1,V),S=0;S<i;S++)h[2*S+1]=5,h[2*S]=ht(S,5);K=new J(Q,C,_+1,g,l),q=new J(h,P,0,i,l),rt=new J(new Array(0),z,0,n,o)})(),R=!0),f.l_desc=new B(f.dyn_ltree,K),f.d_desc=new B(f.dyn_dtree,q),f.bl_desc=new B(f.bl_tree,rt),f.bi_buf=0,f.bi_valid=0,nt(f)},b._tr_stored_block=p,b._tr_flush_block=function(f,S,L,j){var E,M,V=0;0<f.level?(f.strm.data_type===2&&(f.strm.data_type=(function(G){var X,ct=4093624447;for(X=0;X<=31;X++,ct>>>=1)if(1&ct&&G.dyn_ltree[2*X]!==0)return c;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return a;for(X=32;X<_;X++)if(G.dyn_ltree[2*X]!==0)return a;return c})(f)),dt(f,f.l_desc),dt(f,f.d_desc),V=(function(G){var X;for(t(G,G.dyn_ltree,G.l_desc.max_code),t(G,G.dyn_dtree,G.d_desc.max_code),dt(G,G.bl_desc),X=n-1;3<=X&&G.bl_tree[2*N[X]+1]===0;X--);return G.opt_len+=3*(X+1)+5+5+4,X})(f),E=f.opt_len+3+7>>>3,(M=f.static_len+3+7>>>3)<=E&&(E=M)):E=M=L+5,L+4<=E&&S!==-1?p(f,S,L,j):f.strategy===4||M===E?($(f,2+(j?1:0),3),mt(f,Q,h)):($(f,4+(j?1:0),3),(function(G,X,ct,ot){var gt;for($(G,X-257,5),$(G,ct-1,5),$(G,ot-4,4),gt=0;gt<ot;gt++)$(G,G.bl_tree[2*N[gt]+1],3);D(G,G.dyn_ltree,X-1),D(G,G.dyn_dtree,ct-1)})(f,f.l_desc.max_code+1,f.d_desc.max_code+1,V+1),mt(f,f.dyn_ltree,f.dyn_dtree)),nt(f),j&&W(f)},b._tr_tally=function(f,S,L){return f.pending_buf[f.d_buf+2*f.last_lit]=S>>>8&255,f.pending_buf[f.d_buf+2*f.last_lit+1]=255&S,f.pending_buf[f.l_buf+f.last_lit]=255&L,f.last_lit++,S===0?f.dyn_ltree[2*L]++:(f.matches++,S--,f.dyn_ltree[2*(r[L]+_+1)]++,f.dyn_dtree[2*I(S)]++),f.last_lit===f.lit_bufsize-1},b._tr_align=function(f){$(f,2,3),H(f,v,Q),(function(S){S.bi_valid===16?(Y(S,S.bi_buf),S.bi_buf=0,S.bi_valid=0):8<=S.bi_valid&&(S.pending_buf[S.pending++]=255&S.bi_buf,S.bi_buf>>=8,S.bi_valid-=8)})(f)}},{"../utils/common":41}],53:[function(m,A,b){A.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,A,b){(function(d){(function(c,a){if(!c.setImmediate){var u,y,w,_,g=1,i={},n=!1,e=c.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(c);l=l&&l.setTimeout?l:c,u={}.toString.call(c.process)==="[object process]"?function(x){process.nextTick(function(){o(x)})}:(function(){if(c.postMessage&&!c.importScripts){var x=!0,k=c.onmessage;return c.onmessage=function(){x=!1},c.postMessage("","*"),c.onmessage=k,x}})()?(_="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",v,!1):c.attachEvent("onmessage",v),function(x){c.postMessage(_+x,"*")}):c.MessageChannel?((w=new MessageChannel).port1.onmessage=function(x){o(x.data)},function(x){w.port2.postMessage(x)}):e&&"onreadystatechange"in e.createElement("script")?(y=e.documentElement,function(x){var k=e.createElement("script");k.onreadystatechange=function(){o(x),k.onreadystatechange=null,y.removeChild(k),k=null},y.appendChild(k)}):function(x){setTimeout(o,0,x)},l.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var k=new Array(arguments.length-1),F=0;F<k.length;F++)k[F]=arguments[F+1];var C={callback:x,args:k};return i[g]=C,u(g),g++},l.clearImmediate=s}function s(x){delete i[x]}function o(x){if(n)setTimeout(o,0,x);else{var k=i[x];if(k){n=!0;try{(function(F){var C=F.callback,P=F.args;switch(P.length){case 0:C();break;case 1:C(P[0]);break;case 2:C(P[0],P[1]);break;case 3:C(P[0],P[1],P[2]);break;default:C.apply(a,P)}})(k)}finally{s(x),n=!1}}}}function v(x){x.source===c&&typeof x.data=="string"&&x.data.indexOf(_)===0&&o(+x.data.slice(_.length))}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,typeof Pt<"u"?Pt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Gt)),Gt.exports}var cr=dr();const fr=Le(cr),hr={class:"icon-generator q-pa-md"},pr={class:"text-h6"},mr={class:"text-subtitle2"},_r={class:"row q-col-gutter-md"},gr={class:"col-12 col-md-6"},vr={key:0,class:"q-mt-md text-center"},br={class:"text-caption q-mt-sm"},yr={key:0,class:"text-warning q-mt-xs"},wr={class:"col-12 col-md-6"},kr={class:"q-mt-lg"},xr=le({__name:"IconGenerator",setup(U){const et=je(),{t:m}=ue(),A=ft(null),b=ft(""),d=ft(0),c=ft(0),a=ft(!1),u=Ue({ico:!0,pngStandard:!0,apple:!0,android:!0,windows:!0}),y=n=>{const e=n[0];if(e){A.value=e;const l=new FileReader;l.onload=s=>{b.value=s.target?.result;const o=new Image;o.onload=()=>{d.value=o.width,c.value=o.height},o.src=b.value},l.readAsDataURL(e)}},w=()=>{A.value=null,b.value="",d.value=0,c.value=0},_=(n,e,l)=>new Promise((s,o)=>{const v=document.createElement("canvas");v.width=e,v.height=l;const x=v.getContext("2d");if(!x){o(new Error("Canvas context not available"));return}x.drawImage(n,0,0,e,l),v.toBlob(k=>{k?s(k):o(new Error("Blob creation failed"))},"image/png")}),g=async n=>{const s=n.length;let v=6+s*16;const x=[],k=new DataView(new ArrayBuffer(6));k.setUint16(0,0,!0),k.setUint16(2,1,!0),k.setUint16(4,s,!0),x.push(k.buffer);const F=[];for(const C of n){const P=await C.blob.arrayBuffer();F.push(P);const z=new DataView(new ArrayBuffer(16)),N=C.width>=256?0:C.width,Q=C.height>=256?0:C.height;z.setUint8(0,N),z.setUint8(1,Q),z.setUint8(2,0),z.setUint8(3,0),z.setUint16(4,1,!0),z.setUint16(6,32,!0),z.setUint32(8,P.byteLength,!0),z.setUint32(12,v,!0),x.push(z.buffer),v+=P.byteLength}for(const C of F)x.push(C);return new Blob(x,{type:"image/x-icon"})},i=async()=>{if(!A.value||!b.value)return;a.value=!0;const n=new fr,e=new Image;e.src=b.value;try{if(await new Promise(o=>e.onload=o),u.ico){const o=[16,32,48],v=[];for(const k of o){const F=await _(e,k,k);v.push({blob:F,width:k,height:k})}const x=await g(v);n.file("favicon.ico",x)}if(u.pngStandard){const o=[16,32,96,128];for(const v of o){const x=await _(e,v,v);n.file(`favicon-${v}x${v}.png`,x)}}if(u.apple){const o=await _(e,180,180);n.file("apple-touch-icon.png",o)}if(u.android){const o=[192,512];for(const x of o){const k=await _(e,x,x);n.file(`android-chrome-${x}x${x}.png`,k)}const v=await _(e,512,512);n.file("maskable_icon.png",v)}if(u.windows){const o=[{w:144,h:144,name:"mstile-144x144.png"},{w:70,h:70,name:"mstile-70x70.png"}];for(const x of o){const k=await _(e,x.w,x.h);n.file(x.name,k)}n.file("browserconfig.xml",`<?xml version="1.0" encoding="utf-8"?>
<browserconfig>
  <msapplication>
    <tile>
      <square70x70logo src="mstile-70x70.png"/>
      <square144x144logo src="mstile-144x144.png"/>
      <TileColor>#da532c</TileColor>
    </tile>
  </msapplication>
</browserconfig>`)}const l=await n.generateAsync({type:"blob"}),s=document.createElement("a");s.href=URL.createObjectURL(l),s.download="icons.zip",document.body.appendChild(s),s.click(),document.body.removeChild(s),et.notify({type:"positive",message:m("components.iconGenerator.success")})}catch(l){console.error(l),et.notify({type:"negative",message:m("components.iconGenerator.error")})}finally{a.value=!1}};return(n,e)=>(St(),Mt("div",hr,[st(De,{class:"my-card"},{default:lt(()=>[st(Jt,null,{default:lt(()=>[zt("div",pr,Ct(n.$t("components.iconGenerator.title")),1),zt("div",mr,Ct(n.$t("components.iconGenerator.subtitle")),1)]),_:1}),st(Jt,null,{default:lt(()=>[zt("div",_r,[zt("div",gr,[st(ar,{accept:".png, .jpg, .jpeg, .webp",class:"full-width",label:n.$t("components.iconGenerator.uploadLabel"),flat:"",bordered:"","hide-upload-btn":"",onAdded:y,onRemoved:w},null,8,["label"]),b.value?(St(),Mt("div",vr,[st(ur,{src:b.value,style:{"max-width":"256px","max-height":"256px"},fit:"contain",class:"rounded-borders shadow-2"},null,8,["src"]),zt("div",br,Ct(d.value)+"x"+Ct(c.value),1),d.value<256||c.value<256?(St(),Mt("div",yr,[st(oe,{name:"warning"}),vt(" "+Ct(n.$t("components.iconGenerator.lowResWarning")),1)])):te("",!0)])):te("",!0)]),zt("div",wr,[st(Pe,{bordered:"",separator:"",class:"rounded-borders"},{default:lt(()=>[st(bt,{header:""},{default:lt(()=>[vt(Ct(n.$t("components.iconGenerator.settings")),1)]),_:1}),Ot((St(),At(Ut,{tag:"label"},{default:lt(()=>[st(wt,{avatar:""},{default:lt(()=>[st(Rt,{modelValue:u.ico,"onUpdate:modelValue":e[0]||(e[0]=l=>u.ico=l)},null,8,["modelValue"])]),_:1}),st(wt,null,{default:lt(()=>[st(bt,null,{default:lt(()=>[...e[5]||(e[5]=[vt("ICO (Favicon)",-1)])]),_:1}),st(bt,{caption:""},{default:lt(()=>[...e[6]||(e[6]=[vt("16x16, 32x32, 48x48 (favicon.ico)",-1)])]),_:1})]),_:1})]),_:1})),[[Tt]]),Ot((St(),At(Ut,{tag:"label"},{default:lt(()=>[st(wt,{avatar:""},{default:lt(()=>[st(Rt,{modelValue:u.pngStandard,"onUpdate:modelValue":e[1]||(e[1]=l=>u.pngStandard=l)},null,8,["modelValue"])]),_:1}),st(wt,null,{default:lt(()=>[st(bt,null,{default:lt(()=>[...e[7]||(e[7]=[vt("PNG Standard",-1)])]),_:1}),st(bt,{caption:""},{default:lt(()=>[...e[8]||(e[8]=[vt("16x16, 32x32, 96x96, 128x128",-1)])]),_:1})]),_:1})]),_:1})),[[Tt]]),Ot((St(),At(Ut,{tag:"label"},{default:lt(()=>[st(wt,{avatar:""},{default:lt(()=>[st(Rt,{modelValue:u.apple,"onUpdate:modelValue":e[2]||(e[2]=l=>u.apple=l)},null,8,["modelValue"])]),_:1}),st(wt,null,{default:lt(()=>[st(bt,null,{default:lt(()=>[...e[9]||(e[9]=[vt("Apple Touch Icon",-1)])]),_:1}),st(bt,{caption:""},{default:lt(()=>[...e[10]||(e[10]=[vt("180x180 (apple-touch-icon.png)",-1)])]),_:1})]),_:1})]),_:1})),[[Tt]]),Ot((St(),At(Ut,{tag:"label"},{default:lt(()=>[st(wt,{avatar:""},{default:lt(()=>[st(Rt,{modelValue:u.android,"onUpdate:modelValue":e[3]||(e[3]=l=>u.android=l)},null,8,["modelValue"])]),_:1}),st(wt,null,{default:lt(()=>[st(bt,null,{default:lt(()=>[...e[11]||(e[11]=[vt("Android / Chrome",-1)])]),_:1}),st(bt,{caption:""},{default:lt(()=>[...e[12]||(e[12]=[vt("192x192, 512x512, Maskable",-1)])]),_:1})]),_:1})]),_:1})),[[Tt]]),Ot((St(),At(Ut,{tag:"label"},{default:lt(()=>[st(wt,{avatar:""},{default:lt(()=>[st(Rt,{modelValue:u.windows,"onUpdate:modelValue":e[4]||(e[4]=l=>u.windows=l)},null,8,["modelValue"])]),_:1}),st(wt,null,{default:lt(()=>[st(bt,null,{default:lt(()=>[...e[13]||(e[13]=[vt("Windows Tiles",-1)])]),_:1}),st(bt,{caption:""},{default:lt(()=>[...e[14]||(e[14]=[vt("144x144, 70x70, browserconfig.xml",-1)])]),_:1})]),_:1})]),_:1})),[[Tt]])]),_:1}),zt("div",kr,[st($t,{color:"primary",icon:"download",label:n.$t("components.iconGenerator.generateBtn"),class:"full-width",size:"lg",disable:!A.value||a.value,loading:a.value,onClick:i},null,8,["label","disable","loading"])])])])]),_:1})]),_:1})]))}}),Sr=qe(xr,[["__scopeId","data-v-59314fa8"]]),Rr=le({__name:"IconGeneratorPage",setup(U){const{t:et,locale:m}=ue();return _e(()=>({title:et("pages.iconGenerator.title"),meta:{description:{name:"description",content:et("pages.iconGenerator.description")},keywords:{name:"keywords",content:et("pages.iconGenerator.keywords")},ogTitle:{property:"og:title",content:et("pages.iconGenerator.ogTitle")},ogDescription:{property:"og:description",content:et("pages.iconGenerator.ogDescription")}},htmlAttr:{lang:m.value}})),(A,b)=>(St(),At(ge,{padding:""},{default:lt(()=>[st(Sr)]),_:1}))}});export{Rr as default};
