import{u as he,Q as ve}from"./use-meta-DrxAJ_-8.js";import{M as K,r as R,a as h,N as q,O as x,a8 as _e,P as l,a6 as y,R as r,U as m,Y as u,S as F,a9 as E,a2 as W,ad as X,T as _,X as S,a0 as N,$,a7 as Y}from"./index-BEL0ybaJ.js";import{Q as be}from"./QBanner-Ctg1znpL.js";import{Q as G,a as J}from"./QPopupProxy-v7GwWXPH.js";import{Q as B}from"./QChip-LIvhdg4i.js";import{Q,a as C,c as M}from"./QItem-GnXaP8Mt.js";import{Q as P}from"./QList-Coxro7rM.js";import{Q as Ae}from"./QBtnToggle-nDckqWed.js";import{Q as xe}from"./rtl-DGdajZaY.js";import{c as H}from"./CopyUtil-DeidNsh5.js";import{u as Z}from"./vue-i18n.runtime-B3v8E1I0.js";import{_ as Ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TouchPan-Cc35v-_f.js";const ze={class:"flex justify-center"},ke={class:"text-subtitle1"},we={class:"text-body2 text-grey-7"},Fe={class:"row q-col-gutter-md"},Qe={class:"col-12 col-sm-6"},qe={class:"col-12 col-sm-6"},Ve={class:"text-h5 text-weight-bold"},Me={class:"q-mt-sm"},Te={class:"text-h6 q-mb-sm"},Le={class:"row items-center"},Ie={class:"text-body1 text-weight-medium q-mr-md"},Re={class:"text-h6 q-mb-sm"},Se={class:"q-gutter-sm q-mb-md"},Ne=K({__name:"ColorAnalyzer",setup(ee){const{t:a}=Z(),g=R("#000000"),v=R("#FFFFFF"),k=R("foreground"),T=h(()=>[{name:a("components.colorAnalyzer.accessibilityLevels.aaLarge"),ratio:3},{name:a("components.colorAnalyzer.accessibilityLevels.aaNormal"),ratio:4.5},{name:a("components.colorAnalyzer.accessibilityLevels.aaaLarge"),ratio:4.5},{name:a("components.colorAnalyzer.accessibilityLevels.aaaNormal"),ratio:7}]),oe=h(()=>[{label:a("components.colorAnalyzer.baseForeground"),value:"foreground"},{label:a("components.colorAnalyzer.baseBackground"),value:"background"}]),te=e=>{const t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(d,p,f,i)=>p+p+f+f+i+i);const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!o)return null;const[,n,s,c]=o;return!n||!s||!c?null:[parseInt(n,16),parseInt(s,16),parseInt(c,16)]},re=e=>{const t=/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i.exec(e);if(!t)return null;const[,o,n,s]=t;return!o||!n||!s?null:[parseInt(o,10),parseInt(n,10),parseInt(s,10)]},z=e=>{if(!e)return null;const t=e.toLowerCase().trim();return t.startsWith("#")||/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(t)?te(t):t.startsWith("rgb(")?re(t):null},U=e=>e?z(e)!==null||a("components.colorAnalyzer.validationInvalid"):a("components.colorAnalyzer.validationRequired"),L=e=>{if(!e||e.length!==3)return 0;const[t,o,n]=e.map(s=>(s=s/255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return .2126*t+.7152*o+.0722*n},ne=(e,t)=>{const o=Math.max(e,t),n=Math.min(e,t);return(o+.05)/(n+.05)},ae=e=>{if(!e||e.length!==3)return null;const t=e[0]/255,o=e[1]/255,n=e[2]/255,s=Math.max(t,o,n),c=Math.min(t,o,n);let d=0,p;const f=(s+c)/2;if(s===c)d=p=0;else{const i=s-c;switch(p=f>.5?i/(2-s-c):i/(s+c),s){case t:d=(o-n)/i+(o<n?6:0);break;case o:d=(n-t)/i+2;break;case n:d=(t-o)/i+4;break}d/=6}return[Math.round(d*360),Math.round(p*100),Math.round(f*100)]},O=e=>{if(!e||e.length!==3)return null;const t=e[0]/360,o=e[1]/100,n=e[2]/100;let s,c,d;if(o===0)s=c=d=n;else{const p=(b,I,A)=>(A<0&&(A+=1),A>1&&(A-=1),A<.16666666666666666?b+(I-b)*6*A:A<.5?I:A<.6666666666666666?b+(I-b)*(.6666666666666666-A)*6:b),f=n<.5?n*(1+o):n+o-n*o,i=2*n-f;s=p(i,f,t+1/3),c=p(i,f,t),d=p(i,f,t-1/3)}return[Math.round(s*255),Math.round(c*255),Math.round(d*255)]},j=e=>!e||e.length!==3?"#000000":"#"+e.map(t=>{const o=t.toString(16);return o.length===1?"0"+o:o}).join(""),le=e=>L(e)>.179?"#000000":"#FFFFFF",w=(e,t)=>{if(!e)return[];const[o,n,s]=e,c=(f,i)=>(f+i)%360,d=[],p=[];switch(t){case"Monochromatic":return[95,85,75,65,55,45,35,25,15,5].forEach(i=>{const b=O([o,n,i]);b&&p.push({rgb:b,hex:j(b)})}),p;case"Complementary":d.push(o,c(o,180));break;case"Analogous":d.push(o,c(o,30),c(o,-30));break;case"Triadic":d.push(o,c(o,120),c(o,240));break;case"Split Complementary":d.push(o,c(o,150),c(o,210));break;default:return[]}return d.forEach(f=>{const i=O([f,n,s]);i&&p.push({rgb:i,hex:j(i)})}),p},se=h(()=>z(g.value)?g.value:"#000000"),ce=h(()=>z(v.value)?v.value:"#FFFFFF"),ue=h(()=>{const e=z(g.value);return L(e)}),ie=h(()=>{const e=z(v.value);return L(e)}),V=h(()=>ne(ue.value,ie.value)),de=h(()=>{const e=V.value,t=T.value.find(n=>n.name==="AA (Normal Text)")?.ratio??4.5,o=T.value.find(n=>n.name==="AAA (Normal Text)")?.ratio??7;return e>=o?"green-7":e>=t?"light-blue-6":"red-7"}),me=h(()=>{const e=k.value==="foreground"?g.value:v.value;return z(e)}),pe=h(()=>{const e=me.value;return e?ae(e):null}),fe=h(()=>k.value==="foreground"?a("components.colorAnalyzer.foreground"):a("components.colorAnalyzer.background")),ye=h(()=>{const e=pe.value;return e?[{type:"monochromatic",colors:w(e,"Monochromatic")},{type:"complementary",colors:w(e,"Complementary")},{type:"analogous",colors:w(e,"Analogous")},{type:"triadic",colors:w(e,"Triadic")},{type:"splitComplementary",colors:w(e,"Split Complementary")}]:[]}),ge=(e,t)=>e>=t?"green-6":"red-6",D=(e,t)=>{t==="foreground"?g.value=e:t==="background"&&(v.value=e)};return(e,t)=>(x(),q(_e,{class:"color-analyzer-card"},{default:l(()=>[y("div",ze,[r(Y,{style:{flex:"1"}},{default:l(()=>[r(be,{class:"shadow-2 text-primary q-ma-sm q-pa-md full-width",rounded:""},{avatar:l(()=>[r(F,{name:"info",color:"primary"})]),default:l(()=>[y("div",ke,m(u(a)("components.colorAnalyzer.title")),1),y("div",we,m(u(a)("components.colorAnalyzer.description")),1)]),_:1}),y("div",Fe,[y("div",Qe,[r(E,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=o=>g.value=o),label:u(a)("components.colorAnalyzer.foregroundColor"),placeholder:u(a)("components.colorAnalyzer.foregroundPlaceholder"),outlined:"",dense:"",clearable:"",rules:[U]},{append:l(()=>[r(F,{name:"content_copy",class:"cursor-pointer q-mr-xs",onClick:t[0]||(t[0]=o=>u(H)(g.value))}),r(F,{name:"colorize",class:"cursor-pointer"},{default:l(()=>[r(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[r(J,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=o=>g.value=o),"no-footer":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","placeholder","rules"])]),y("div",qe,[r(E,{modelValue:v.value,"onUpdate:modelValue":t[5]||(t[5]=o=>v.value=o),label:u(a)("components.colorAnalyzer.backgroundColor"),placeholder:u(a)("components.colorAnalyzer.backgroundPlaceholder"),outlined:"",dense:"",clearable:"",rules:[U]},{append:l(()=>[r(F,{name:"content_copy",class:"cursor-pointer q-mr-xs",onClick:t[3]||(t[3]=o=>u(H)(v.value))}),r(F,{name:"colorize",class:"cursor-pointer"},{default:l(()=>[r(G,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[r(J,{modelValue:v.value,"onUpdate:modelValue":t[4]||(t[4]=o=>v.value=o),"no-footer":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","placeholder","rules"])])]),r(W,{class:"q-my-md"}),y("div",{class:"preview-box q-pa-lg text-center shadow-2",style:X({backgroundColor:ce.value,color:se.value})},[y("div",Ve,m(u(a)("components.colorAnalyzer.preview")),1),y("p",Me,m(u(a)("components.colorAnalyzer.previewText")),1)],4),r(W,{class:"q-my-md"}),y("div",Te,m(u(a)("components.colorAnalyzer.contrastAnalysis")),1),y("div",Le,[y("div",Ie,m(u(a)("components.colorAnalyzer.contrastRatio")),1),r(B,{color:de.value,"text-color":"white",size:"lg",square:""},{default:l(()=>[_(m(V.value.toFixed(2))+":1 ",1)]),_:1},8,["color"])]),r(P,{bordered:"",dense:"",class:"q-mt-md"},{default:l(()=>[(x(!0),S($,null,N(T.value,o=>(x(),q(Q,{key:o.name},{default:l(()=>[r(C,null,{default:l(()=>[r(M,{class:"text-weight-bold"},{default:l(()=>[_(m(o.name),1)]),_:2},1024),r(M,{caption:""},{default:l(()=>[_(m(u(a)("components.colorAnalyzer.minRequirement",{ratio:o.ratio})),1)]),_:2},1024)]),_:2},1024),r(C,{side:""},{default:l(()=>[r(B,{color:ge(V.value,o.ratio),"text-color":"white"},{default:l(()=>[_(m(V.value>=o.ratio?u(a)("components.colorAnalyzer.pass"):u(a)("components.colorAnalyzer.fail")),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),r(Y,{style:{flex:"1"}},{default:l(()=>[y("div",Re,m(u(a)("components.colorAnalyzer.colorHarmony",{base:fe.value})),1),y("div",Se,[r(Ae,{modelValue:k.value,"onUpdate:modelValue":t[6]||(t[6]=o=>k.value=o),"toggle-color":"primary",options:oe.value},null,8,["modelValue","options"])]),r(P,{bordered:"",separator:"",class:"q-mt-sm"},{default:l(()=>[(x(!0),S($,null,N(ye.value,o=>(x(),q(Q,{key:o.type,class:"q-py-sm"},{default:l(()=>[r(C,null,{default:l(()=>[r(M,{class:"text-weight-medium"},{default:l(()=>[_(m(u(a)(`components.colorAnalyzer.harmonyTypes.${o.type}`)),1)]),_:2},1024)]),_:2},1024),r(C,{side:"",class:"row items-center q-gutter-xs"},{default:l(()=>[(x(!0),S($,null,N(o.colors,(n,s)=>(x(),q(B,{key:s,style:X({backgroundColor:n.hex,color:le(n.rgb)}),size:"md",square:"",class:"cursor-pointer"},{default:l(()=>[_(m(n.hex)+" ",1),r(xe,{"auto-close":""},{default:l(()=>[r(P,{style:{"min-width":"120px"}},{default:l(()=>[r(M,{header:""},{default:l(()=>[_(m(u(a)("components.colorAnalyzer.applyTo")),1)]),_:1}),r(Q,{clickable:"",onClick:c=>D(n.hex,"foreground")},{default:l(()=>[r(C,null,{default:l(()=>[_(m(u(a)("components.colorAnalyzer.applyForeground")),1)]),_:1})]),_:1},8,["onClick"]),r(Q,{clickable:"",onClick:c=>D(n.hex,"background")},{default:l(()=>[r(C,null,{default:l(()=>[_(m(u(a)("components.colorAnalyzer.applyBackground")),1)]),_:1})]),_:1},8,["onClick"]),r(Q,{clickable:"",onClick:c=>u(H)(n.hex)},{default:l(()=>[r(C,null,{default:l(()=>[_(m(u(a)("components.colorAnalyzer.copyColor")),1)]),_:1})]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["style"]))),128))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1}))}}),$e=Ce(Ne,[["__scopeId","data-v-55923584"]]),Ke=K({__name:"ColorAnalyzerPage",setup(ee){const{t:a,locale:g}=Z();return he(()=>({title:a("pages.colorAnalyzer.title"),meta:{description:{name:"description",content:a("pages.colorAnalyzer.description")},keywords:{name:"keywords",content:a("pages.colorAnalyzer.keywords")},ogTitle:{property:"og:title",content:a("pages.colorAnalyzer.ogTitle")},ogDescription:{property:"og:description",content:a("pages.colorAnalyzer.ogDescription")}},htmlAttr:{lang:g.value}})),(v,k)=>(x(),q(ve,null,{default:l(()=>[r($e)]),_:1}))}});export{Ke as default};
